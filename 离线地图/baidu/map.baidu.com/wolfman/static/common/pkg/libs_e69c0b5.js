define("common:widget/ui/tangram/tangram.js",function(require,exports,module){function getXHR(){if(window.ActiveXObject)try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}return window.XMLHttpRequest?new XMLHttpRequest:void 0}function addParam(e,t,n){n="function"===baidu.type(n)?n():"undefined"==typeof n||null==n?"":n,e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}function buildParams(e,t,n,r){if("array"===baidu.type(n))baidu.forEach(n,function(n,i){r||rbracket.test(t)?addParam(e,t,n):buildParams(e,t+"["+("object"==typeof n?i:"")+"]",n,r)});else if(r||"object"!==baidu.type(n))addParam(e,t,n);else for(var i in n)buildParams(e,t+"["+i+"]",n[i],r)}var T,baidu=T=function(){var e,t=e=t||function(e,n){return t.dom?t.dom(e,n):null};t.version="2.0.2.3",t.guid="$BAIDU$",t.key="tangram_guid";var n=window[t.guid]=window[t.guid]||{};return(n.versions||(n.versions=[])).push(t.version),t.check=t.check||function(){},t.merge=function(e,t){var n=e.length,r=0;if("number"==typeof t.length)for(var i=t.length;i>r;r++)e[n++]=t[r];else for(;void 0!==t[r];)e[n++]=t[r++];return e.length=n,e},t.forEach=function(e,t,n){var r,i,o;if("function"==typeof t&&e)if(i="number"==typeof e.length?e.length:e.byteLength,"number"==typeof i){if("[object Function]"===Object.prototype.toString.call(e))return e;for(r=0;i>r;r++)o=e[r],void 0===o&&(o=e.charAt&&e.charAt(r)),t.call(n||null,o,r,e)}else if("number"==typeof e)for(r=0;e>r;r++)t.call(n||null,r,r,r);else if("object"==typeof e)for(r in e)e.hasOwnProperty(r)&&t.call(n||null,e[r],r,e);return e},t.lang=t.lang||{},t.type=function(){var e={},n=[null,"HTMLElement","Attribute","Text",null,null,null,null,"Comment","Document",null,"DocumentFragment",null],r="Array Boolean Date Error Function Number RegExp String",i={object:1,"function":"1"},o=e.toString;return t.forEach(r.split(" "),function(n){e["[object "+n+"]"]=n.toLowerCase(),t["is"+n]=function(e){return t.type(e)==n.toLowerCase()}}),function(t){var r=typeof t;return i[r]?null==t?"null":t._type_||e[o.call(t)]||n[t.nodeType]||(t==t.window?"Window":"")||"object":r}}(),t.isDate=function(e){return"date"==t.type(e)&&"Invalid Date"!=e.toString()&&!isNaN(e)},t.isElement=function(e){return"HTMLElement"==t.type(e)},t.isEnumerable=function(e){return null!=e&&("object"==typeof e||~Object.prototype.toString.call(e).indexOf("NodeList"))&&("number"==typeof e.length||"number"==typeof e.byteLength||"undefined"!=typeof e[0])},t.isNumber=function(e){return"number"==t.type(e)&&isFinite(e)},t.isPlainObject=function(e){var n,r=Object.prototype.hasOwnProperty;if("object"!=t.type(e))return!1;if(e.constructor&&!r.call(e,"constructor")&&!r.call(e.constructor.prototype,"isPrototypeOf"))return!1;for(n in e);return void 0===n||r.call(e,n)},t.isObject=function(e){return"function"==typeof e||"object"==typeof e&&null!=e},t.extend=function(e,n){var r,i,o,a,u,s,l=1,d=arguments.length,c=e||{};for(t.isBoolean(e)&&(l=2)&&(c=n||{}),!t.isObject(c)&&(c={});d>l;l++)if(r=arguments[l],t.isObject(r))for(i in r)o=c[i],a=r[i],o!==a&&(t.isBoolean(e)&&e&&a&&(t.isPlainObject(a)||(u=t.isArray(a)))?(u?(u=!1,s=o&&t.isArray(o)?o:[]):s=o&&t.isPlainObject(o)?o:{},c[i]=t.extend(e,s,a)):void 0!==a&&(c[i]=a));return c},t.createChain=function(e,n,r){var i="dom"==e?"$DOM":"$"+e.charAt(0).toUpperCase()+e.substr(1),o=Array.prototype.slice,a=t[e];return a?a:(a=t[e]=n||function(n){return t.extend(n,t[e].fn)},a.extend=function(n){var r;for(r in n)!function(n){"splice"!=n&&(a[n]=function(){var r=arguments[0];"dom"==e&&"string"==t.type(r)&&(r="#"+r);var i=a(r),u=i[n].apply(i,o.call(arguments,1));return"$DOM"==t.type(u)?u.get(0):u})}(r);return t.extend(t[e].fn,n)},t[e][i]=t[e][i]||r||function(){},a.fn=t[e][i].prototype,a)},t.overwrite=function(e,t,n){for(var r=t.length-1;r>-1;r--)e.prototype[t[r]]=n(t[r]);return e},t.createChain("array",function(e){{var n,r=t.array.$Array.prototype;Array.prototype}"array"!=t.type(e)&&(e=[]);for(n in r)e[n]=r[n];return e}),t.overwrite(t.array.$Array,"concat slice".split(" "),function(e){return function(){return t.array(Array.prototype[e].apply(this,arguments))}}),t.array.extend({unique:function(e){var t,n,r=this.length,i=this.slice(0);for("function"!=typeof e&&(e=function(e,t){return e===t});--r>0;)for(n=i[r],t=r;t--;)if(e(n,i[t])){i.splice(r,1);break}for(r=this.length=i.length,t=0;r>t;t++)this[t]=i[t];return this}}),t.query=t.query||function(){function e(e,n){var i,s,l,d,c,f,p,h=[];return r.test(e)?(l=RegExp.$2,d=RegExp.$1||"*",t.forEach(n.getElementsByTagName(d),function(e){e.id==l&&h.push(e)})):o.test(e)||"*"==e?t.merge(h,n.getElementsByTagName(e)):a.test(e)?(f=[],d=RegExp.$1,c=RegExp.$2,i=" "+c+" ",n.getElementsByClassName?f=n.getElementsByClassName(c):t.forEach(n.getElementsByTagName("*"),function(e){e.className&&~(" "+e.className+" ").indexOf(i)&&f.push(e)}),d&&(d=d.toUpperCase())?t.forEach(f,function(e){e.tagName.toUpperCase()===d&&h.push(e)}):t.merge(h,f)):u.test(e)&&(p=e.substr(1).split("."),t.forEach(n.getElementsByTagName("*"),function(e){e.className&&(i=" "+e.className+" ",s=!0,t.forEach(p,function(e){~i.indexOf(" "+e+" ")||(s=!1)}),s&&h.push(e))})),h}function n(r,o){var a,u=r,s="__tangram__",l=[];return!o&&i.test(u)&&(a=document.getElementById(u.substr(1)))?[a]:(o=o||document,o.querySelectorAll?(1!=o.nodeType||o.id?a=o.querySelectorAll(u):(o.id=s,a=o.querySelectorAll("#"+s+" "+u),o.id=""),a):~u.indexOf(" ")?(t.forEach(e(u.substr(0,u.indexOf(" ")),o),function(e){t.merge(l,n(u.substr(u.indexOf(" ")+1),e))}),l):e(u,o))}{var r=/^(\w*)#([\w\-\$]+)$/,i=/^#([\w\-\$]+)$/,o=/^\w+$/,a=/^(\w*)\.([\w\-\$]+)$/,u=/^(\.[\w\-\$]+)+$/,s=/\s*,\s*/,l=/\s+/g;Array.prototype.slice}return function(e,r,i){if(!e||"string"!=typeof e)return i||[];var o=[];return e=e.replace(l," "),i&&t.merge(o,i)&&(i.length=0),t.forEach(e.indexOf(",")>0?e.split(s):[e],function(e){t.merge(o,n(e,r))}),t.merge(i||[],t.array(o).unique())}}(),t.createChain("dom",function(e,n){var r=new t.dom.$DOM(n);if(!e)return r;if("$DOM"==e._type_)return e;if(e.nodeType||e==e.window)return r[0]=e,r.length=1,r;if(e.length&&"[object String]"!=r.toString.call(e))return t.merge(r,e);if("string"==typeof e)if("<"==e.charAt(0)&&">"==e.charAt(e.length-1)&&e.length>2){var i=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,o=n&&"$DOM"===n._type_?n[0]:n,a=i.exec(e);o=o&&o.nodeType?o.ownerDocument||o:document,a=a?[o.createElement(a[1])]:t.dom.createElements?t.dom.createElements(e):[],t.merge(r,a)}else t.query(e,n,r);else if("function"==typeof e)return r.ready?r.ready(e):r;return r},function(e){this.length=0,this._type_="$DOM",this.context=e||document}).extend({size:function(){return this.length},splice:function(){},get:function(e){return"number"==typeof e?0>e?this[this.length+e]:this[e]:Array.prototype.slice.call(this,0)},toArray:function(){return this.get()}}),t.dom.extend({each:function(e){t.check("function","baidu.dom.each");var n,r,i=this.length;for(n=0;i>n&&(r=e.call(this[n],n,this[n],this),r!==!1&&"break"!=r);n++);return this}}),t.global=t.global||function(){var e=t._global_=window[t.guid],n=e._=e._||{};return function(e,t,r){return"undefined"!=typeof t?(r||(t="undefined"==typeof n[e]?t:n[e]),n[e]=t):e&&"undefined"==typeof n[e]&&(n[e]={}),n[e]}}(),t._util_=t._util_||{},t._util_.access=function(e,n,r,i,o){if(e.size()<=0)return e;switch(t.type(n)){case"string":if(void 0===r)return i.call(e,e[0],n);e.each(function(a,u){i.call(e,u,n,"function"===t.type(r)?r.call(u,a,i.call(e,u,n)):r,o)});break;case"object":for(var a in n)t._util_.access(e,a,n[a],i,r)}return e},t._util_.nodeName=function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},t._util_.propFixer={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",classname:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable",rboolean:/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i},!document.createElement("form").enctype&&(t._util_.propFixer.enctype="encoding"),t._util_.isXML=function(e){var t=(e?e.ownerDocument||e:0).documentElement;return t?"HTML"!==t.nodeName:!1},t._util_.prop=function(){var e=/^(?:button|input|object|select|textarea)$/i,n=/^a(?:rea|)$/i,r=document.createElement("select"),i=r.appendChild(document.createElement("option")),o={tabIndex:{get:function(t){var r=t.getAttributeNode("tabindex");return r&&r.specified?parseInt(r.value,10):e.test(t.nodeName)||n.test(t.nodeName)&&t.href?0:void 0}}};return!i.selected&&(o.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),r=i=null,function(e,n,r){var i,a,u=e.nodeType;if(e&&!~"238".indexOf(u))return 1===u&&t._util_.isXML(e)||(n=t._util_.propFixer[n]||n,i=o[n]||{}),void 0!==r?i.set&&void 0!==(a=i.set(e,n,r))?a:e[n]=r:i.get&&null!==(a=i.get(e,n))?a:e[n]}}(),t._util_.support=t._util_.support||function(){var e,t,n,r,i,o=document.createElement("div");return o.setAttribute("className","t"),o.innerHTML=' <link/><table></table><a href="/a">a</a><input type="checkbox"/>',t=o.getElementsByTagName("A")[0],t.style.cssText="top:1px;float:left;opacity:.5",r=document.createElement("select"),i=r.appendChild(document.createElement("option")),n=o.getElementsByTagName("input")[0],n.checked=!0,e={dom:{div:o,a:t,select:r,opt:i,input:n}}}(),t._util_.support.getSetAttribute="t"!==t._util_.support.dom.div.className,t._util_.nodeHook=function(){if(!t._util_.support.getSetAttribute){var e={};return e.name=e.id=e.coords=!0,{get:function(t,n){var r=t.getAttributeNode(n);return r&&(e[n]?""!==r.value:r.specified)?r.value:void 0},set:function(e,t,n){var r=e.getAttributeNode(t);return r||(r=document.createAttribute(t),e.setAttributeNode(r)),r.value=n+""}}}}(),t._util_.removeAttr=function(){var e=t._util_.propFixer,n=/\s+/,r=t._util_.support.getSetAttribute;return function(i,o){if(o&&1===i.nodeType)for(var a,u,s,l=o.split(n),d=0;s=l[d];d++)a=e[s]||s,u=e.rboolean.test(s),!u&&t._util_.attr(i,s,""),i.removeAttribute(r?s:a),u&&a in i&&(i[a]=!1)}}(),t._util_.contains=document.compareDocumentPosition?function(e,t){return!!(16&e.compareDocumentPosition(t))}:function(e,t){if(e===t)return!1;if(e.contains&&t.contains)return e.contains(t);for(;t=t.parentNode;)if(t===e)return!0;return!1},t._util_.attr=function(){var e=t._util_,n=/^(?:button|input)$/i,r=e.support.dom,i="t"===r.input.value,o="/a"===r.a.getAttribute("href"),a=/top/.test(r.a.getAttribute("style")),u=e.nodeHook,s={className:"class"},l={get:function(t,n){var r,i=e.prop(t,n);return i===!0||"boolean"!=typeof i&&(r=t.getAttributeNode(n))&&r.nodeValue!==!1?n.toLowerCase():void 0},set:function(t,n,r){if(r===!1)e.removeAttr(t,n);else{var i=e.propFixer[n]||n;i in t&&(t[i]=!0),t.setAttribute(n,n.toLowerCase())}return n}},d={type:{set:function(t,r,o){if(n.test(t.nodeName)&&t.parentNode)return o;if(!i&&"radio"===o&&e.nodeName(t,"input")){var a=t.value;return t.setAttribute("type",o),a&&(t.value=a),o}}},value:{get:function(t,n){return u&&e.nodeName(t,"button")?u.get(t,n):n in t?t.value:null},set:function(t,n,r){return u&&e.nodeName(t,"button")?u.set(t,n,r):void(t.value=r)}}};return e.support.getSetAttribute||(t.forEach(["width","height"],function(e){d[e]={set:function(e,t,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}}),d.contenteditable={get:u.get,set:function(e,t,n){""===n&&(n=!1),u.set(e,t,n)}}),o||t.forEach(["href","src","width","height"],function(e){d[e]={get:function(e,t){var n=e.getAttribute(t,2);return null===n?void 0:n}}}),a||(d.style={get:function(e){return e.style.cssText.toLowerCase()||void 0},set:function(e,t,n){return e.style.cssText=n+""}}),function(n,r,i,o){var a,c,f=n.nodeType,p=1!==f||!e.isXML(n);if(n&&!~"238".indexOf(f))return o&&t.dom.fn[r]?t.dom(n)[r](i):(p&&(r=s[r]||r.toLowerCase(),a=d[r]||(e.propFixer.rboolean.test(r)?l:u)),void 0!==i?null===i?void e.removeAttr(n,r):p&&a&&a.set&&void 0!==(c=a.set(n,r,i))?c:(n.setAttribute(r,i+""),i):p&&a&&a.get&&null!==(c=a.get(n,r))?c:(c=n.getAttribute(r),null===c?void 0:c))}}(),t.dom.extend({attr:function(e,n){return t._util_.access(this,e,n,function(e,n,r,i){return t._util_.attr(e,n,r,i)})}}),t.dom.extend({removeAttr:function(e){return this.each(function(n,r){t._util_.removeAttr(r,e)}),this}}),t.dom.extend({prop:function(e,n){return t._util_.access(this,e,n,function(e,n,r){return t._util_.prop(e,n,r)})}}),t.dom.extend({removeProp:function(e){return e=t._util_.propFixer[e]||e,this.each(function(t,n){try{n[e]=void 0,delete n[e]}catch(r){}}),this}}),t.browser=t.browser||function(){var e=navigator.userAgent,n={isStrict:"CSS1Compat"==document.compatMode,isGecko:/gecko/i.test(e)&&!/like gecko/i.test(e),isWebkit:/webkit/i.test(e)};try{/(\d+\.\d+)/.test(external.max_version)&&(n.maxthon=+RegExp.$1)}catch(r){}switch(!0){case/msie (\d+\.\d+)/i.test(e):n.ie=document.documentMode||+RegExp.$1;break;case"Netscape"==navigator.appName&&new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").test(e):n.ie=document.documentMode;break;case/chrome\/(\d+\.\d+)/i.test(e):n.chrome=+RegExp.$1;break;case/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(e)&&!/chrome/i.test(e):n.safari=+(RegExp.$1||RegExp.$2);break;case/firefox\/(\d+\.\d+)/i.test(e):n.firefox=+RegExp.$1;break;case/opera(?:\/| )(\d+(?:\.\d+)?)(.+?(version\/(\d+(?:\.\d+)?)))?/i.test(e):n.opera=+(RegExp.$4||RegExp.$1)}return t.extend(t,n),n}(),window.Instance=function(e){return t.id(e,"get")},t.id=function(){var e=t.global("_maps_id"),n=t.key;return window[t.guid]._counter=window[t.guid]._counter||1,function(r,i){var o,a=t.isString(r),u=t.isObject(r),s=u?r[n]:a?r:"";if(t.isString(i))switch(i){case"get":return u?s:e[s];case"remove":case"delete":return(o=e[s])&&(t.isElement(o)&&t.browser.ie<8?o.removeAttribute(n):delete o[n],delete e[s]),s;default:return a?((o=e[s])&&delete e[s],o&&(e[o[n]=i]=o)):u&&(s&&delete e[s],e[r[n]=i]=r),i}return u?(!s&&(e[r[n]=s=t.id()]=r),s):a?e[r]:"TANGRAM_"+t._global_._counter++}}(),t.dom.extend({data:function(){var e=t.key,n=t.global("_maps_HTMLElementData");return function(r,i){if(t.forEach(this,function(n){!n[e]&&(n[e]=t.id())}),t.isString(r)){if("undefined"==typeof i){var o,a;if(a=this[0]&&(o=n[this[0][e]])&&o[r],"undefined"!=typeof a)return a;var u=this[0].getAttribute("data-"+r);return~String(u).indexOf("{")?Function("return "+u)():u}t.forEach(this,function(t){var o=n[t[e]]=n[t[e]]||{};o[r]=i})}else"object"==t.type(r)&&t.forEach(this,function(i){var o=n[i[e]]=n[i[e]]||{};t.forEach(r,function(e,t){o[t]=r[t]})});return this}}()}),t.dom.extend({removeData:function(){var e=t.key,n=t.global("_maps_HTMLElementData");return function(r){return t.forEach(this,function(n){!n[e]&&(n[e]=t.id())}),t.forEach(this,function(i){var o=n[i[e]];"string"==typeof r?o&&delete o[r]:"array"==t.type(r)&&t.forEach(r,function(e){o&&delete o[e]})}),this}}()}),t.createChain("string",function(e){var n=t.type(e),r=new String(~"string|number".indexOf(n)?e:n),i=String.prototype;return t.forEach(t.string.$String.prototype,function(e,t){i[t]||(r[t]=e)}),r}),t.string.extend({trim:function(){var e=new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+$)","g");return function(){return this.replace(e,"")}}()}),t.dom.extend({addClass:function(e){if(!arguments.length)return this;var n=typeof e,r=" ";if("string"==n){e=t.string.trim(e);var i=e.split(" ");t.forEach(this,function(e){for(var t=e.className,n=0;n<i.length;n++)~(r+t+r).indexOf(r+i[n]+r)||(t+=" "+i[n]);e.className=t.replace(/^\s+/g,"")})}else"function"==n&&t.forEach(this,function(n,r){t.dom(n).addClass(e.call(n,r,n.className))});return this}}),t.dom.extend({removeClass:function(e){var n=typeof e,r=" ";if(arguments.length||t.forEach(this,function(e){e.className=""}),"string"==n){e=t.string.trim(e);var i=e.split(" ");t.forEach(this,function(e){for(var n=e.className,o=0;o<i.length;o++)for(;~(r+n+r).indexOf(r+i[o]+r);)n=(r+n+r).replace(r+i[o]+r,r);e.className=t.string.trim(n)})}else"function"==n&&t.forEach(this,function(n,r){t.dom(n).removeClass(e.call(n,r,n.className))});return this}}),t.dom.extend({pushStack:function(e){var n=t.dom();return t.merge(n,e),n.prevObject=this,n.context=this.context,n}}),t.dom.extend({eq:function(e){t.check("number","baidu.dom.eq");var n=this.get(e);return this.pushStack("undefined"==typeof n?[]:[n])}}),t.dom.extend({getComputedStyle:function(e){if(this[0].ownerDocument){var t=this[0].ownerDocument.defaultView,n=t&&t.getComputedStyle&&t.getComputedStyle(this[0],null),r=n?n.getPropertyValue(e)||n[e]:"";return r||this[0].style[e]}}}),t.dom.extend({getCurrentStyle:function(){var e=document.documentElement.currentStyle?function(e){return this[0].currentStyle?this[0].currentStyle[e]:this[0].style[e]}:function(e){return this.getComputedStyle(e)};return function(t){return e.call(this,t)}}()}),t.each=function(e,t,n){var r,i,o,a;if("function"==typeof t&&e)if(i="number"==typeof e.length?e.length:e.byteLength,"number"==typeof i){if("[object Function]"===Object.prototype.toString.call(e))return e;for(r=0;i>r&&(o=e[r],void 0===o&&(o=e.charAt&&e.charAt(r)),a=t.call(n||o,r,o,e),a!==!1&&"break"!=a);r++);}else if("number"==typeof e)for(r=0;e>r&&(a=t.call(n||r,r,r,r),a!==!1&&"break"!=a);r++);else if("object"==typeof e)for(r in e)if(e.hasOwnProperty(r)&&(a=t.call(n||e[r],r,e[r],e),a===!1||"break"==a))break;return e},t._util_.getWidthOrHeight=function(){function e(e,t){var n={};for(var r in t)n[r]=e.style[r],e.style[r]=t[r];return n}var n={},r={position:"absolute",visibility:"hidden",display:"block"},i=/^(none|table(?!-c[ea]).+)/;return t.forEach(["Width","Height"],function(o){var a={Width:["Right","Left"],Height:["Top","Bottom"]}[o];n["get"+o]=function(n,u){var s=t.dom(n),l=0===n.offsetWidth&&i.test(s.getCurrentStyle("display"))&&e(n,r),d=n["offset"+o]||parseInt(s.getCurrentStyle(o.toLowerCase()))||0,c="padding|border";return u&&t.forEach(u.split("|"),function(e){~c.indexOf(e)?c=c.replace(new RegExp("\\|?"+e+"\\|?"),""):(d+=parseFloat(s.getCurrentStyle(e+a[0]))||0,d+=parseFloat(s.getCurrentStyle(e+a[1]))||0)}),c&&t.forEach(c.split("|"),function(e){d-=parseFloat(s.getCurrentStyle(e+a[0]+("border"===e?"Width":"")))||0,d-=parseFloat(s.getCurrentStyle(e+a[1]+("border"===e?"Width":"")))||0}),l&&e(n,l),d}}),function(e,t,r){return n["width"===t?"getWidth":"getHeight"](e,r)}}(),t._util_.setPositiveNumber=function(){var e=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,t=new RegExp("^("+e+")(.*)$","i");return function(e,n,r){var i=t.exec(n);return i?Math.max(0,i[1]-(r||0))+(i[2]||"px"):n}}(),t._util_.style=t.extend({set:function(e,t,n){e.style[t]=n}},document.documentElement.currentStyle?{get:function(e,n){var r,i=t.dom(e).getCurrentStyle(n);return/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i.test(i)&&(r=e.style.left,e.style.left="fontSize"===n?"1em":i,i=e.style.pixelLeft+"px",e.style.left=r),i}}:{get:function(e,n){return t.dom(e).getCurrentStyle(n)}}),t._util_.cssHooks=function(){function e(e,n,i){"string"===t.type(i)&&(i=t._util_.setPositiveNumber(e,i)),r.set(e,n,i)}var n=/alpha\s*\(\s*opacity\s*=\s*(\d{1,3})/i,r=t._util_.style,i=t._util_.support.dom.a,o={fontWeight:{normal:400,bold:700,bolder:700,lighter:100}},a={opacity:{},width:{},height:{},fontWeight:{get:function(e,t){var n=r.get(e,t);return o.fontWeight[n]||n}}};return t.extend(a.opacity,/^0.5/.test(i.style.opacity)?{get:function(e,n){var r=t.dom(e).getCurrentStyle(n);return""===r?"1":r}}:{get:function(e){return n.test((e.currentStyle||e.style).filter||"")?parseFloat(RegExp.$1)/100:"1"},set:function(e,t,r){var i=(e.currentStyle||e.style).filter||"",o=100*r;e.style.zoom=1,e.style.filter=n.test(i)?i.replace(n,"Alpha(opacity="+o):i+" progid:dximagetransform.microsoft.Alpha(opacity="+o+")"}}),t.forEach(["width","height"],function(n){a[n]={get:function(e){return t._util_.getWidthOrHeight(e,n)+"px"},set:e}}),t.each({padding:"",border:"Width"},function(t,n){a[t+n]={set:e};for(var r=["Top","Right","Bottom","Left"],i=0;4>i;i++)a[t+r[i]+n]={set:e}}),a}(),t._util_.cssNumber={columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},t.string.extend({toCamelCase:function(){var e=this.valueOf();return e.indexOf("-")<0&&e.indexOf("_")<0?e:e.replace(/[-_][^-_]/g,function(e){return e.charAt(1).toUpperCase()})}}),t.dom.styleFixer=function(){var e=t._util_.style,n=t._util_.cssHooks,r=t._util_.cssNumber,i={"float":t._util_.support.dom.a.style.cssFloat?"cssFloat":"styleFloat"};return function(o,a,u){var s,l,d=t.string.toCamelCase(a),c=void 0===u?"get":"set";return d=i[d]||d,s="number"!==t.type(u)||r[d]?u:u+"px",(l=n.hasOwnProperty(d)&&n[d][c]||e[c])(o,d,s)}}(),t.dom.extend({css:function(e,n){return t.check("^(?:(?:string(?:,(?:number|string|function))?)|object)$","baidu.dom.css"),t._util_.access(this,e,n,function(e,n,r){var i=t.dom.styleFixer;return i?i(e,n,r):void 0===r?this.getCurrentStyle(n):e.style[n]=r})}}),t.dom.extend({getDocument:function(){if(this.size()<=0)return void 0;var e=this[0];return 9==e.nodeType?e:e.ownerDocument||e.document}}),t._util_.getDefaultDisplayValue=function(){var e={};return function(n){if(e[n])return e[n];var r,i,o,a=document.createElement(n);return document.body.appendChild(a),r=t.dom(a).getCurrentStyle("display"),document.body.removeChild(a),(""===r||"none"===r)&&(i=document.body.appendChild(document.createElement("iframe")),i.frameBorder=i.width=i.height=0,o=(i.contentWindow||i.contentDocument).document,o.writeln("<!DOCTYPE html><html><body>"),o.close(),a=o.appendChild(o.createElement(n)),r=t.dom(a).getCurrentStyle("display"),document.body.removeChild(i),i=null),a=null,e[n]=r}}(),t._util_.isHidden=function(e){return"none"===t.dom(e).getCurrentStyle("display")||!t._util_.contains(e.ownerDocument,e)},t.dom.extend({show:function(){var e,n,r=[];return this.each(function(i,o){o.style&&(n=t.dom(o),e=o.style.display,r[i]=n.data("olddisplay"),r[i]||"none"!==e||(o.style.display=""),""===o.style.display&&t._util_.isHidden(o)&&n.data("olddisplay",r[i]=t._util_.getDefaultDisplayValue(o.nodeName)))}),this.each(function(e,t){t.style&&("none"===t.style.display||""===t.style.display)&&(t.style.display=r[e]||"")})}}),t.dom.extend({hide:function(){var e,n,r,i=[];return this.each(function(o,a){a.style&&(e=t(a),i[o]=e.data("olddisplay"),r=a.style.display,i[o]||(n=t._util_.isHidden(a),(r&&"none"!==r||!n)&&e.data("olddisplay",n?r:e.getCurrentStyle("display"))),a.style.display="none")})}}),t.dom.extend({toggle:function(){for(var e=0,t=this.size();t>e;e++){var n=this.eq(e);"none"!=n.css("display")?n.hide():n.show()}}}),t.dom.g=function(e){return e?"string"==typeof e||e instanceof String?document.getElementById(e):!e.nodeName||1!=e.nodeType&&9!=e.nodeType?null:e:null},t.dom.toggle=function(e){return e=t.dom.g(e),e.style.display="none"==e.style.display?"":"none",e},t.dom.extend({toggleClass:function(e,n){var n="undefined"==typeof n?n:Boolean(n);switch(arguments.length<=0&&t.forEach(this,function(e){e.className=""}),typeof e){case"string":e=e.replace(/^\s+/g,"").replace(/\s+$/g,"").replace(/\s+/g," ");var r=e.split(" ");t.forEach(this,function(e){for(var t=e.className,i=0;i<r.length;i++)~(" "+t+" ").indexOf(" "+r[i]+" ")&&"undefined"==typeof n?t=(" "+t+" ").replace(" "+r[i]+" "," "):(~(" "+t+" ").indexOf(" "+r[i]+" ")||"undefined"!=typeof n)&&(~(" "+t+" ").indexOf(" "+r[i]+" ")||n!==!0)?~(" "+t+" ").indexOf(" "+r[i]+" ")&&n===!1&&(t=t.replace(r[i],"")):t+=" "+r[i];e.className=t.replace(/^\s+/g,"").replace(/\s+$/g,"")});break;case"function":t.forEach(this,function(r,i){t.dom(r).toggleClass(e.call(r,i,r.className),n)})}return this}}),t.dom.extend({hasClass:function(e){if(arguments.length<=0||"function"==typeof e)return this;if(this.size()<=0)return!1;e=e.replace(/^\s+/g,"").replace(/\s+$/g,"").replace(/\s+/g," ");var n,r=e.split(" ");return t.forEach(this,function(e){for(var t=e.className,i=0;i<r.length;i++)if(!~(" "+t+" ").indexOf(" "+r[i]+" "))return void(n=!1);return n!==!1?void(n=!0):void 0}),n}}),t.dom.toggleClass=function(e,n){t.dom.hasClass(e,n)?t.dom.removeClass(e,n):t.dom.addClass(e,n)},t.dom.createElements=function(){function e(e,t){var n,r,i,o=e.getElementsByTagName("SCRIPT");for(n=o.length-1;n>=0;n--)i=o[n],r=t.createElement("SCRIPT"),i.id&&(r.id=i.id),i.src&&(r.src=i.src),i.type&&(r.type=i.type),r[i.text?"text":"textContent"]=i.text||i.textContent,i.parentNode.replaceChild(r,i)}var n=/<(\w+)/i,r=/<|&#?\w+;/,i={area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],option:[1,"<select multiple='multiple'>","</select>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],_default:[0,"",""]};return i.optgroup=i.option,i.tbody=i.tfoot=i.colgroup=i.caption=i.thead,i.th=i.td,function(o,a){t.isNumber(o)&&(o=o.toString()),a=a||document;var u,s,l,d=o,c=(d.length,a.createElement("div")),f=a.createDocumentFragment(),p=[];if(t.isString(d))if(r.test(d)){for(u=i[d.match(n)[1].toLowerCase()]||i._default,c.innerHTML="<i>mz</i>"+u[1]+d+u[2],c.removeChild(c.firstChild),e(c,a),s=u[0],l=c;s--;)l=l.firstChild;t.merge(p,l.childNodes),t.forEach(p,function(e){f.appendChild(e)}),c=l=null}else p.push(a.createTextNode(d));return c=null,p}}(),t.createChain("event",function(){var e={};return function(n){switch(t.type(n)){case"object":return e.originalEvent===n?e:e=new t.event.$Event(n);case"$Event":return n}}}(),function(e){var n,r,i=this;if(this._type_="$Event","object"==typeof e&&e.type){i.originalEvent=n=e;for(var o in n)"function"!=typeof n[o]&&(i[o]=n[o]);n.extraData&&t.extend(i,n.extraData),i.target=i.srcElement=n.srcElement||(r=n.target)&&(3==r.nodeType?r.parentNode:r),i.relatedTarget=n.relatedTarget||(r=n.fromElement)&&(r===i.target?n.toElement:r),i.keyCode=i.which=n.keyCode||n.which,i.which||void 0===n.button||(i.which=1&n.button?1:2&n.button?3:4&n.button?2:0);var a=document.documentElement,u=document.body;i.pageX=n.pageX||n.clientX+(a&&a.scrollLeft||u&&u.scrollLeft||0)-(a&&a.clientLeft||u&&u.clientLeft||0),i.pageY=n.pageY||n.clientY+(a&&a.scrollTop||u&&u.scrollTop||0)-(a&&a.clientTop||u&&u.clientTop||0),i.data}this.timeStamp=(new Date).getTime()}).extend({stopPropagation:function(){var e=this.originalEvent;e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},preventDefault:function(){var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}}),t._util_.eventBase=t._util_.eventBase||{},void function(e,t){e.listener||(t=e.listener={},window.addEventListener?t.add=function(e,t,n){e.addEventListener(t,n,!1)}:window.attachEvent&&(t.add=function(e,t,n){e.attachEvent("on"+t,n)}))}(t._util_.eventBase),void function(e){if(!e.queue){var n=t.id,r=e.queue={},i=r.attaCache=t.global("eventQueueCache"),o=e.listener;r.get=function(e,t,r,o){var a,u=n(e);return i[u]||(i[u]={}),a=i[u],t?(!a[t]&&r&&this.setupCall(e,t,r,a[t]=[],o),a[t]||[]):a},r.add=function(e,t,n,r,i){this.get(e,t,n,i).push(r)},r.remove=function(e,t,n){var r,i;if(t){var r=this.get(e,t);if(n)for(var o=r.length-1;o>=0;o--)r[o].orig==n&&r.splice(o,1);else r.length=0}else{var i=this.get(e);for(var o in i)i[o].length=0}},r.handlerList=function(e,n){for(var r,i=[],o=0;r=n[o];o++)r.delegate&&t.dom(r.delegate,e).size()<1||i.push(r);return i},r.call=function(e,n,i,o){if(i){if(!i.length)return;var a=[].slice.call(arguments,1),u=[];a.unshift(o=t.event(o||n)),o.type=n,o.currentTarget||(o.currentTarget=e),o.target||(o.target=e),i=r.handlerList(e,i);for(var s,l=0,d=i.length;d>l;l++)(s=i[l])&&(s.pkg.apply(e,a),s.one&&u.unshift(l));if(u.length)for(var l=0,d=u.length;d>l;l++)this.remove(e,n,i[l].fn)}else i=this.get(e,n),this.call(e,n,i,o)},r.setupCall=function(){var e=function(e,t,n,i){o.add(e,n,function(n){r.call(e,t,i,n)})};return function(n,r,i,o,a){if(a){n=t.dom(a,n);for(var u=0,s=n.length;s>u;u++)e(n[u],r,i,o)}else e(n,r,i,o)}}()}}(t._util_.eventBase,t.event),t._util_.cleanData=function(e){for(var n,r,i=0;r=e[i];i++)n=t.id(r,"get"),n&&(t._util_.eventBase.queue.remove(r),t.id(r,"remove"))},t.dom.extend({empty:function(){for(var e,n=0;e=this[n];n++)for(1===e.nodeType&&t._util_.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this}}),t.dom.extend({html:function(e){var n,r=t.dom,i=t._util_,o=this,a=!1,u=!!i.support.dom.div.getElementsByTagName("link").length,s=3===i.support.dom.div.firstChild.nodeType;if(!this.size())switch(typeof e){case"undefined":return void 0;default:return o}var l="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",d=/<(?:script|style|link)/i,c=new RegExp("<(?:"+l+")[\\s/>]","i"),f=/^\s+/,p=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,h=/<([\w:]+)/,g={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};return g.optgroup=g.option,g.tbody=g.tfoot=g.colgroup=g.caption=g.thead,g.th=g.td,u||(g._default=[1,"X<div>","</div>"]),t.forEach(o,function(t,i){if(!n){var l=r(t);switch(typeof e){case"undefined":return void(n=1===t.nodeType?t.innerHTML:void 0);case"number":e=String(e);case"string":if(a=!0,!(d.test(e)||!u&&c.test(e)||!s&&f.test(e)||g[(h.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(p,"<$1></$2>");try{1===t.nodeType&&(l.empty(),t.innerHTML=e),t=0}catch(m){}}t&&o.empty().append(e);break;case"function":a=!0,l.html(e.call(t,i,l.html()))}}}),a?o:n}}),t._util_.smartInsert=function(e,n,r){if(!(n.length<=0||e.size()<=0)){if("function"===t.type(n[0])){var i,o=n[0];return t.forEach(e,function(e,a){i=t.dom(e),n[0]=o.call(e,a,i.html()),t._util_.smartInsert(i,n,r)})}for(var a,u,s=e.getDocument()||document,l=s.createDocumentFragment(),d=e.length-1,c=0;u=n[c];c++)u.nodeType?l.appendChild(u):t.forEach(~"string|number".indexOf(t.type(u))?t.dom.createElements(u,s):u,function(e){l.appendChild(e)});(a=l.firstChild)&&t.forEach(e,function(e,t){r.call("table"===e.nodeName.toLowerCase()&&"tr"===a.nodeName.toLowerCase()?e.tBodies[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e,d>t?l.cloneNode(!0):l)})}},t.dom.extend({append:function(){return t.check("^(?:string|function|HTMLElement|\\$DOM)(?:,(?:string|array|HTMLElement|\\$DOM))*$","baidu.dom.append"),t._util_.smartInsert(this,arguments,function(e){1===this.nodeType&&this.appendChild(e)}),this}}),t.dom.extend({prepend:function(){return t.check("^(?:string|function|HTMLElement|\\$DOM)(?:,(?:string|array|HTMLElement|\\$DOM))*$","baidu.dom.prepend"),t._util_.smartInsert(this,arguments,function(e){1===this.nodeType&&this.insertBefore(e,this.firstChild)}),this}}),t.makeArray=function(e,n){var r=n||[];return e?(null==e.length||~"string|function|regexp".indexOf(t.type(e))?[].push.call(r,e):t.merge(r,e),r):r},t.dom.toggleClass=function(e,n){t.dom.hasClass(e,n)?t.dom.removeClass(e,n):t.dom.addClass(e,n)},t.dom.extend({map:function(e){t.check("function","baidu.dom.map");var n=[],r=0;return t.forEach(this,function(t,i){n[r++]=e.call(t,i,t,t)}),this.pushStack(n)}}),void function(e,n){if(!e.core){var r=e.queue,i=e.core={},o=n.special={},a=[].push,u=function(e,t){function n(e){if(e.length<2)return e;for(var t=[],n=0;n<e.length;n++)t.push({deep:r(e[n]),value:e[n],toString:function(){return this.value}});t.sort(function(e,t){return t.deep-e.deep}),e=[];for(var n=0;n<t.length;n++)e.push(t[n].value);return e}function r(e){for(var t=0;e.parentElement!==document.body;)t++,e=e.parentElement;return t}for(var i=[],o=0,a=t.length;a>o;o++)t.get(o).contains(e)&&i.push(t[o]);return n(i)};i.build=function(e,n,r,i,s){var l;return i&&(l=t.dom(i,e)),n in o&&o[n].pack&&(r=o[n].pack(r)),function(n){var o,d=(t.dom(n.target),[n]);if(s&&!n.data&&(n.data=s),n.triggerData&&a.apply(d,n.triggerData),!l)return n.result=r.apply(e,d);for(var c=0;2>c;c++){l=t.dom(i,e);
var f=!0;if((o=u(n.target,l))&&o.length){for(var p=0;p<o.length;p++)f&&r.apply(o[p],d)===!1&&(f=!1);return}}}},i.add=function(e,t,n,i,a,u){var s,l,d=this.build(e,t,n,i,a);l=t,t in o&&(s=o[t].attachElements,l=o[t].bindType||t),r.add(e,t,l,{type:t,pkg:d,orig:n,one:u,delegate:i},s)},i.remove=function(e,t,n,i){r.remove(e,t,n,i)}}}(t._util_.eventBase,t.event),t.dom.extend({clone:function(){function e(e){return e.getElementsByTagName?e.getElementsByTagName("*"):e.querySelectorAll?e.querySelectorAll("*"):[]}function n(e,n){switch(n.clearAttributes&&n.clearAttributes(),n.mergeAttributes&&n.mergeAttributes(e),n.nodeName.toLowerCase()){case"object":n.outerHTML=e.outerHTML;break;case"textarea":case"input":~"checked|radio".indexOf(e.type)&&(e.checked&&(n.defaultChecked=n.checked=e.checked),n.value!==e.value&&(n.value=e.value)),n.defaultValue=e.defaultValue;break;case"option":n.selected=e.defaultSelected;break;case"script":n.text!==e.text&&(n.text=e.text)}n[t.key]&&n.removeAttribute(t.key)}function r(e,n){if(1===n.nodeType&&t.id(e,"get")){var r=u.get(e);for(var i in r)for(var o,s=0;o=r[i][s];s++)a.add(n,i,o.orig,null,null,o.one)}}function i(i,o,a){var u,s,c,f=i.cloneNode(!0);if(!(d&&l||1!==i.nodeType&&11!==i.nodeType||t._util_.isXML(i))){n(i,f),u=e(i),s=e(f),c=u.length;for(var p=0;c>p;p++)s[p]&&n(u[p],s[p])}if(o&&(r(i,f),a)){u=e(i),s=e(f),c=u.length;for(var p=0;c>p;p++)r(u[p],s[p])}return f}var o=t._util_,a=o.eventBase.core,u=o.eventBase.queue,s=o.support.dom.div,l=o.support.dom.input.cloneNode(!0).checked,d=!0;return!s.addEventListener&&s.attachEvent&&s.fireEvent&&(s.attachEvent("onclick",function(){d=!1}),s.cloneNode(!0).fireEvent("onclick")),function(e,t){return e=!!e,t=!!t,this.map(function(){return i(this,e,t)})}}()}),t.dom.extend({contains:function(e){var n=this[0];return e=t.dom(e)[0],n&&e?t._util_.contains(n,e):!1}}),t.dom._g=function(e){return"string"===t.type(e)?document.getElementById(e):e},t.dom.contains=function(e,n){var r=t.dom._g;return t._util_.contains(r(e),r(n))},t._util_.smartInsertTo=function(e,n,r,i){var o,a=t.dom(n),u=a[0];if(!i||!u||u.parentNode&&11!==u.parentNode.nodeType)for(var s,l=0;s=a[l];l++)t._util_.smartInsert(t.dom(s),l>0?e.clone(!0,!0):e,r);else i="before"===i,o=t.merge(i?e:a,i?a:e),e!==o&&(e.length=0,t.merge(e,o))},t.dom.extend({appendTo:function(e){var n=[],r=n.push;return t.check("^(?:string|HTMLElement|\\$DOM)$","baidu.dom.appendTo"),t._util_.smartInsertTo(this,e,function(e){r.apply(n,t.makeArray(e.childNodes)),this.appendChild(e)}),this.pushStack(n)}}),t.dom.extend({prependTo:function(e){var n=[],r=n.push;return t.check("^(?:string|HTMLElement|\\$DOM)$","baidu.dom.prependTo"),t._util_.smartInsertTo(this,e,function(e){r.apply(n,t.makeArray(e.childNodes)),this.insertBefore(e,this.firstChild)}),this.pushStack(n)}}),t.dom.extend({after:function(){return t.check("^(?:string|function|HTMLElement|\\$DOM)(?:,(?:string|array|HTMLElement|\\$DOM))*$","baidu.dom.after"),t._util_.smartInsert(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}),this}}),t.dom.extend({before:function(){return t.check("^(?:string|function|HTMLElement|\\$DOM)(?:,(?:string|array|HTMLElement|\\$DOM))*$","baidu.dom.before"),t._util_.smartInsert(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}),this}}),t.dom.extend({insertAfter:function(e){var n=[],r=n.push;return t.check("^(?:string|HTMLElement|\\$DOM)$","baidu.dom.insertAfter"),t._util_.smartInsertTo(this,e,function(e){r.apply(n,t.makeArray(e.childNodes)),this.parentNode.insertBefore(e,this.nextSibling)},"after"),this.pushStack(n)}}),t.dom.insertAfter=function(e,n){var r=t.dom._g;return t.dom(r(e)).insertAfter(r(n))[0]},t.dom.extend({insertBefore:function(e){var n=[],r=n.push;return t.check("^(?:string|HTMLElement|\\$DOM)$","baidu.dom.insertBefore"),t._util_.smartInsertTo(this,e,function(e){r.apply(n,t.makeArray(e.childNodes)),this.parentNode.insertBefore(e,this)},"before"),this.pushStack(n)}}),t.dom.insertBefore=function(e,n){var r=t.dom._g;return t.dom(r(e)).insertBefore(r(n))[0]},t.dom.match=function(){function e(e){for(var t,n=[];e=e.parentNode;)e.nodeType&&n.push(e);for(var t=n.length-1;t>-1;t--)if(1==n[t].nodeType||9==n[t].nodeType)return n[t];return null}var n=document.createElement("DIV");return n.id="__tangram__",function(n,r,i){var o,a=t.array();switch(t.type(r)){case"$DOM":for(var u=n.length-1;u>-1;u--)for(var s=r.length-1;s>-1;s--)n[u]===r[s]&&a.push(n[u]);break;case"function":t.forEach(n,function(e,t){r.call(e,t)&&a.push(e)});break;case"HTMLElement":t.forEach(n,function(e){e==r&&a.push(e)});break;case"string":var l=t.query(r,i||document);t.forEach(n,function(n){if(o=e(n))for(var i=1==o.nodeType?t.query(r,o):l,u=0,s=i.length;s>u;u++)if(i[u]===n){a.push(n);break}}),a=a.unique();break;default:a=t.array(n).unique()}return a}}(),t.dom.extend({filter:function(e){return this.pushStack(t.dom.match(this,e))}}),t.dom.extend({remove:function(e,n){arguments.length>0&&t.check("^string(?:,boolean)?$","baidu.dom.remove");for(var r,i=e?this.filter(e):this,o=0;r=i[o];o++)n||1!==r.nodeType||(t._util_.cleanData(r.getElementsByTagName("*")),t._util_.cleanData([r])),r.parentNode&&r.parentNode.removeChild(r);return this}}),t.dom.extend({detach:function(e){return e&&t.check("^string$","baidu.dom.detach"),this.remove(e,!0)}}),t.dom.extend({getWindow:function(){var e=this.getDocument();return this.size()<=0?void 0:e.parentWindow||e.defaultView}}),t.dom.extend({text:function(e){var n,r=t.dom,i=this,o=!1;if(this.size()<=0)switch(typeof e){case"undefined":return void 0;default:return i}var a=function(e){var t="",n=e.nodeType;if(n)if(1===n||9===n||11===n){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)t+=a(e)}else if(3===n||4===n)return e.nodeValue;return t};return t.forEach(i,function(t,i){var u=r(t);if(!n)switch(typeof e){case"undefined":return n=a(t);case"number":e=String(e);case"string":o=!0,u.empty().append((t&&t.ownerDocument||document).createTextNode(e));break;case"function":o=!0,u.text(e.call(t,i,u.text()))}}),o?i:n}}),t.dom.extend({find:function(e){var n,r=[],i="__tangram__find__",o=[];switch(t.type(e)){case"string":this.each(function(){t.merge(o,t.query(e,this))});break;case"HTMLElement":n=e.tagName+"#"+(e.id?e.id:e.id=i),this.each(function(){t.query(n,this).length>0&&r.push(e)}),e.id==i&&(e.id=""),r.length>0&&t.merge(o,r);break;case"$DOM":r=e.get(),this.each(function(){t.forEach(t.query("*",this),function(e){for(var t=0,n=r.length;n>t;t++)e===r[t]&&(o[o.length++]=r[t])})})}return this.pushStack(o)}}),t._util_.inArray=function(e,t,n){if(!t)return-1;var r,i=Array.prototype.indexOf;if(i)return i.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n;return-1},t.array.extend({map:function(e,n){t.check("function(,.+)?","baidu.array.map");for(var r=this.length,i=t.array([]),o=0;r>o;o++)i[o]=e.call(n||this,this[o],o,this);return i}}),t.array.map=function(e,n,r){return t.isArray(e)?t.array(e).map(n,r):e},t.map=t.array.map,t.dom.extend({val:function(){t._util_.support.dom.select.disabled=!0;var e=t._util_,n="on"===e.support.dom.input.value,r=!e.support.dom.opt.disabled,i=["radio","checkbox"],o={option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(n){for(var i,o,a=n.options,u=n.selectedIndex,s="select-one"===n.type||0>u,l=s?null:[],d=s?u+1:a.length,c=0>u?d:s?u:0;d>c;c++)if(i=a[c],!(!i.selected&&c!==u||(r?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&e.nodeName(i.parentNode,"optgroup"))){if(o=t.dom(i).val(),s)return o;l.push(o)}return l},set:function(n,r,i){var o=t.makeArray(i);return t.dom(n).find("option").each(function(n,r){r.selected=e.inArray(t.dom(this).val(),o)>=0}),!o.length&&(n.selectedIndex=-1),o}}};return!e.support.getSetAttribute&&(o.button=e.nodeHook),n||t.forEach(i,function(e){o[e]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),t.forEach(i,function(n){o[n]=o[n]||{},o[n].set=function(n,r,i){return"array"===t.type(i)?n.checked=e.inArray(t.dom(n).val(),i)>=0:void 0}}),function(e){var n,r;if(void 0===e){if(!(n=this[0]))return;return r=o[n.type]||o[n.nodeName.toLowerCase()]||{},r.get&&r.get(n,"value")||n.value}return this.each(function(n,i){if(1===i.nodeType){var a=t.dom(i),u="function"===t.type(e)?e.call(i,n,a.val()):e;null==u?u="":"number"===t.type(u)?u+="":"array"===t.type(u)&&(u=t.array(u).map(function(e){return null==e?"":e+""})),r=o[i.type]||o[i.nodeName.toLowerCase()]||{},r.set&&void 0!==r.set(i,"value",u)||(i.value=u)}}),this}}()}),t.dom.extend({insertHTML:function(e,n){var r,i,o=this[0];return o.insertAdjacentHTML&&!t.browser.opera?o.insertAdjacentHTML(e,n):(r=o.ownerDocument.createRange(),e=e.toUpperCase(),"AFTERBEGIN"==e||"BEFOREEND"==e?(r.selectNodeContents(o),r.collapse("AFTERBEGIN"==e)):(i="BEFOREBEGIN"==e,r[i?"setStartBefore":"setEndAfter"](o),r.collapse(i)),r.insertNode(r.createContextualFragment(n))),o}}),t.dom.extend({on:function(e,n,r,i,o){var a=t._util_.eventBase.core;return"object"==typeof n&&n?(i=r,r=n,n=null):"function"==typeof r?(i=r,r=null):"function"==typeof n&&(i=n,n=r=null),"string"==typeof e?(e=e.split(/[ ,]+/),this.each(function(){t.forEach(e,function(e){a.add(this,e,i,n,r,o)},this)})):"object"==typeof e&&(i&&(i=null),t.forEach(e,function(e,t){this.on(t,n,r,e,o)},this)),this}}),t.event.on=t.on=function(e,n,r){return"string"==typeof e&&(e=t.dom.g(e)),t.dom(e).on(n.replace(/^\s*on/,""),r),e},t.dom.extend({off:function(e,n,r){var i=t._util_.eventBase.core,o=this;return e?"string"==typeof e?("function"==typeof n&&(r=n,n=null),e=e.split(/[ ,]/),t.forEach(this,function(o){t.forEach(e,function(e){i.remove(o,e,r,n)})})):"object"==typeof e&&t.forEach(e,function(e,t){o.off(t,n,e)}):t.forEach(this,function(e){i.remove(e)}),this}}),t.event.un=t.un=function(e,n,r){return"string"==typeof e&&(e=t.dom.g(e)),t.dom(e).off(n.replace(/^\s*on/,""),r),e},t.dom.extend({bind:function(e,t,n){return this.on(e,void 0,t,n)}}),t.dom.extend({unbind:function(e,t){return this.off(e,t)}}),void function(e){if(!e.mousewheel){var n=/firefox/i.test(navigator.userAgent),r=/msie/i.test(navigator.userAgent);t.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(n,r){e[n]={bindType:r,pack:function(e){var r=t.dom.contains;return function(t){var i=t.relatedTarget;return t.type=n,!i||i!==this&&!r(this,i)?e.apply(this,arguments):void 0}}}}),r||t.each({focusin:"focus",focusout:"blur"},function(t,n){e[t]={bindType:n,attachElements:"textarea,select,input,button,a"}}),e.mousewheel={bindType:n?"DOMMouseScroll":"mousewheel",pack:function(e){return function(t){var r=t.originalEvent;return t.type="mousewheel",t.wheelDelta=t.wheelDelta||(n?-40*r.detail:r.wheelDelta)||0,e.apply(this,arguments)}}}}}(t.event.special),void function(e){var n=e.queue;t.dom.extend({triggerHandler:function(e,r,i){return i&&!i.triggerData&&(i.triggerData=r),t.forEach(this,function(t){n.call(t,e,void 0,i)}),this}})}(t._util_.eventBase),void function(e,n){var r=n.special,i=e.queue,o=t.dom,a=!window.addEventListener,u=/firefox/i.test(navigator.userAgent),s={submit:3,focus:a?3:2,blur:a?3:u?1:2},l=function(e,t){var n;document.createEvent?(n=document.createEvent("HTMLEvents"),n.initEvent(e,!0,!0)):document.createEventObject&&(n=document.createEventObject(),n.type=e);var r={};if(t)for(var i in t)try{n[i]=t[i]}catch(o){n.extraData||(n.extraData=r),r[i]=t[i]}return n},d=function(e,t,n){return e.dispatchEvent?e.dispatchEvent(n):e.fireEvent?e.fireEvent("on"+t,n):void 0},c=function(e,t,n,r,a){var u,c;if(u=l(t,r))if(n&&(u.triggerData=n),a)i.call(e,t,null,u);else{var f=e.window===window?3:s[t];try{(1&f||!(t in s))&&(c=d(e,t,u))}catch(p){o(e).triggerHandler(t,n,u)}if(c!==!1&&2&f)try{e[t]&&e[t]()}catch(p){}}};t.dom.extend({trigger:function(e,t,n){var i;return e in r&&(i=r[e]),this.each(function(){c(this,e,t,n,i)}),this}})}(t._util_.eventBase,t.event),t.array.extend({indexOf:function(e,n){t.check(".+(,number)?","baidu.array.indexOf");var r=this.length;for((n=0|n)<0&&(n=Math.max(0,r+n));r>n;n++)if(n in this&&this[n]===e)return n;return-1}}),t.createChain("Callbacks",function(e){var n=e;return"string"===t.type(e)&&(n={},t.forEach(e.split(/\s/),function(e){n[e]=!0})),new t.Callbacks.$Callbacks(n)},function(e){var n,r,i,o,a=t.extend({},e||{}),u=[],s=[],l=0,d=function(e,t){var r,d;if(s&&u&&(n=a.memory&&e,i=!0,s.push(e),!o)){for(o=!0;r=s.shift();)for(l=t||0;d=u[l];l++)if(d.apply(r[0],r[1])===!1&&a.stopOnFalse){n=!1;break}o=!1,a.once&&(u=[])}},c={add:function(){if(!u)return this;var e=u&&u.length;return function r(e){for(var n,i,i,o=e.length,s=0;o>s;s++)(i=e[s])&&(n=t.type(i),"function"===n?(!a.unique||!c.has(i))&&u.push(i):i&&i.length&&"string"!==n&&r(i))}(arguments),!o&&n&&d(n,e),this},remove:function(){if(!u)return this;var e;return t.forEach(arguments,function(n){for(;(e=t.array(u).indexOf(n))>-1;)u.splice(e,1),o&&l>e&&l--}),this},has:function(e){return t.array(u).indexOf(e)>-1},empty:function(){return u=[],this},disable:function(){return u=s=n=void 0,this},disabled:function(){return!u},lock:function(){return r=!0,!n&&c.disable(),this},fired:function(){return i},fireWith:function(e,t){return i&&a.once||r?this:(t=t||[],t=[e,t.slice?t.slice():t],d(t),this)},fire:function(){return c.fireWith(this,arguments),this}};return c}),t.createChain("Deferred",function(e){return new t.Deferred.$Deferred(e)},function(e){var n=this,r="pending",i=[["resolve","done",t.Callbacks("once memory"),"resolved"],["reject","fail",t.Callbacks("once memory"),"rejected"],["notify","progress",t.Callbacks("memory")]],o={state:function(){return r},always:function(){return n.done(arguments).fail(arguments),this},then:function(){var e=arguments;return t.Deferred(function(r){t.forEach(i,function(i,o){var a=i[0],u=e[o];n[i[1]]("function"===t.type(u)?function(){var e=u.apply(this,arguments);e&&"function"===t.type(e.promise)?e.promise().done(r.resolve).fail(r.reject).progress(r.notify):r[a+"With"](this===n?r:this,[e])}:r[a])})}).promise()},promise:function(e){return null!=e?t.extend(e,o):o}};o.pipe=o.then,t.forEach(i,function(e,t){var a=e[2],u=e[3];o[e[1]]=a.add,u&&a.add(function(){r=u},i[1^t][2].disable,i[2][2].lock),n[e[0]]=a.fire,n[e[0]+"With"]=a.fireWith}),o.promise(n),e&&e.call(n,n)}),t.dom.extend({ready:function(){var e,n=this,r=window.document;t._util_.isDomReady=!1,t._util_._readyWait=1,t.dom.holdReady=function(e){e?t._util_.readyWait++:i(!0)};var i=function(n){if(n===!0?!--t._util_.readyWait:!t._util_.isDomReady){if(!r.body)return setTimeout(i,1);t._util_.isReady=!0,n!==!0&&--t._util_.readyWait>0||(e.resolveWith(r),t.dom.trigger&&t.dom(r).trigger("ready").off("ready"))}},o=function(){r.addEventListener?(r.removeEventListener("DOMContentLoaded",o,!1),i()):"complete"===r.readyState&&(r.detachEvent("onreadystatechange",o),i())},a=function(n){if(!e)if(e=t.Deferred(),"complete"===r.readyState)setTimeout(i,1);else if(r.addEventListener)r.addEventListener("DOMContentLoaded",o,!1),window.addEventListener("load",i,!1);else{r.attachEvent("onreadystatechange",o),window.attachEvent("onload",i);var a=!1;try{a=null==window.frameElement&&r.documentElement}catch(u){}a&&a.doScroll&&!function s(){if(!t._util_.isDomReady){try{a.doScroll("left")}catch(e){return setTimeout(s,50)}i()}}()}return e.promise(n)};return function(e){return a().done(e),n}}()}),t.dom.ready=t.dom.fn.ready,t.dom.extend({one:function(e,t,n,r){return this.on(e,t,n,r,1)}}),t.dom.extend({delegate:function(e,t,n,r){return"function"==typeof n&&(r=n,n=null),this.on(t,e,n,r)}}),t.dom.extend({undelegate:function(e,t,n){return this.off(t,e,n)}}),void function(){for(var e="blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave mousewheel change select submit keydown keypress keyup error contextmenu".split(" "),n={},r=function(e){n[e]=function(t,n){return null==n&&(n=t,t=null),arguments.length>0?this.on(e,null,t,n):this.trigger(e)}},i=0,o=e.length;o>i;i++)r(e[i]);t.dom.extend(n)}(),t.dom.extend({is:function(e){return t.dom.match(this,e).length>0}}),t.dom.extend({children:function(e){var n=[];return this.each(function(){t.forEach(this.children||this.childNodes,function(e){1==e.nodeType&&n.push(e)})}),this.pushStack(t.dom.match(n,e))}}),t.dom.children=function(e){return t.check("string|HTMLElement","baidu.dom.children"),t.dom(t.isString(e)?"#"+e:e).children().toArray()},t.dom.extend({first:function(){return this.eq(0)}}),t.dom.first=function(e){return t.isString(e)&&(e="#"+e),t.dom(e).children()[0]},t.dom.extend({last:function(){return this.eq(-1)}}),t.dom.last=function(e){e=t.dom.g(e);for(var n=e.lastChild;n;n=n.previousSibling)if(1==n.nodeType)return n;return null},t.dom.extend({has:function(e){var n=[],r=t.dom(document.body);return t.forEach(this,function(t){r[0]=t,r.find(e).length&&n.push(t)}),t.dom(n)}}),t.dom.extend({not:function(e){var n,r,i,o=this.get(),a=t.isArray(e)?e:t.dom.match(this,e);for(n=o.length-1;n>-1;n--)for(r=0,i=a.length;i>r;r++)a[r]===o[n]&&o.splice(n,1);return this.pushStack(o)}}),t.dom.extend({slice:function(){var e=Array.prototype.slice;return function(){return t.check("number(,number)?","baidu.dom.slice"),this.pushStack(e.apply(this,arguments))}}()}),t.dom.extend({closest:function(e,n){var r=t.array();return t.forEach(this,function(i){for(var o=[i];i=i.parentNode;)i.nodeType&&o.push(i);o=t.dom.match(o,e,n),o.length&&r.push(o[0])}),this.pushStack(r.unique())}}),t.dom.extend({next:function(e){var n=[];return t.forEach(this,function(e){for(;(e=e.nextSibling)&&e&&1!=e.nodeType;);e&&(n[n.length++]=e)}),this.pushStack(e?t.dom.match(n,e):n)}}),t.dom.extend({nextAll:function(e){var n=[];return t.forEach(this,function(e){for(;e=e.nextSibling;)e&&1==e.nodeType&&n.push(e)}),this.pushStack(t.dom.match(n,e))}}),t.dom.extend({nextUntil:function(e,n){var r=t.array();return t.forEach(this,function(n){for(var i=t.array();n=n.nextSibling;)n&&1==n.nodeType&&i.push(n);if(e&&i.length){var o=t.dom.match(i,e);o.length&&(i=i.slice(0,i.indexOf(o[0])))}t.merge(r,i)}),this.pushStack(t.dom.match(r,n))}}),t.dom.extend({offset:function(){function e(e,n,r){var i=i=t.dom(e),o=i.getCurrentStyle("position");"static"===o&&(e.style.position="relative");var a=i.offset(),u=i.getCurrentStyle("left"),s=i.getCurrentStyle("top"),l=~"absolute|fixed".indexOf(o)&&~(""+u+s).indexOf("auto"),d=l&&i.position();u=d&&d.left||parseFloat(u)||0,s=d&&d.top||parseFloat(s)||0,"function"===t.type("options")&&(n=n.call(e,r,a)),void 0!=n.left&&(e.style.left=n.left-a.left+u+"px"),void 0!=n.top&&(e.style.top=n.top-a.top+s+"px")}return function(n){if(n){t.check("^(?:object|function)$","baidu.dom.offset");for(var r,i=0;r=this[i];i++)e(r,n,i);return this}var o,a,u=this[0],s=this.getDocument(),l={left:0,top:0};if(s)return a=s.documentElement,t._util_.contains(a,u)?("undefined"!=typeof u.getBoundingClientRect&&(l=u.getBoundingClientRect()),o=this.getWindow(),{left:l.left+(o.pageXOffset||a.scrollLeft)-(a.clientLeft||0),top:l.top+(o.pageYOffset||a.scrollTop)-(a.clientTop||0)}):l}}(),offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||document.body,n=/^(?:body|html)$/i;e&&"static"===t.dom(e).getCurrentStyle("position")&&!n.test(e.nodeName);)e=e.offsetParent;return e})}}),t.dom.extend({parent:function(e){var n=[];return t.forEach(this,function(e){(e=e.parentNode)&&1==e.nodeType&&n.push(e)}),this.pushStack(t.dom.match(n,e))}}),t.dom.extend({outerHeight:function(e){if(this.size()<=0)return 0;var n=this[0],r=null!=n&&n===n.window?"window":9===n.nodeType?"document":!1;return r?t._util_.getWindowOrDocumentWidthOrHeight(n,r,"height"):t._util_.getWidthOrHeight(n,"height","padding|border"+(e?"|margin":""))},outerWidth:function(e){if(this.size()<=0)return 0;var n=this[0],r=null!=n&&n===n.window?"window":9===n.nodeType?"document":!1;return r?t._util_.getWindowOrDocumentWidthOrHeight(n,r,"width"):t._util_.getWidthOrHeight(n,"width","padding|border"+(e?"|margin":""))}}),t.dom.extend({parents:function(e){var n=[];return t.forEach(this,function(e){for(var r=[];(e=e.parentNode)&&1==e.nodeType;)r.push(e);t.merge(n,r)}),this.pushStack(t.dom.match(n,e))}}),t.dom.extend({parentsUntil:function(e,n){t.check("(string|HTMLElement)(,.+)?","baidu.dom.parentsUntil");var r=[];return t.forEach(this,function(n){for(var i=t.array();(n=n.parentNode)&&1==n.nodeType;)i.push(n);if(e&&i.length){var o=t.dom.match(i,e);o.length&&(i=i.slice(0,i.indexOf(o[0])))}t.merge(r,i)}),this.pushStack(t.dom.match(r,n))}}),t.dom.extend({prev:function(e){var n=[];return t.forEach(this,function(e){for(;e=e.previousSibling;)if(1==e.nodeType){n.push(e);break}}),this.pushStack(t.dom.match(n,e))}}),t.dom.extend({prevAll:function(e){var n=t.array();return t.forEach(this,function(e){for(var r=[];e=e.previousSibling;)1==e.nodeType&&r.push(e);t.merge(n,r.reverse())}),this.pushStack("string"==typeof e?t.dom.match(n,e):n.unique())}}),t.dom.extend({prevUntil:function(e,n){t.check("(string|HTMLElement)(,.+)?","baidu.dom.prevUntil");var r=[];return t.forEach(this,function(n){for(var i=t.array();n=n.previousSibling;)n&&1==n.nodeType&&i.push(n);if(e&&i.length){var o=t.dom.match(i,e);o.length&&(i=i.slice(0,i.indexOf(o[0])))}t.merge(r,i)}),this.pushStack(t.dom.match(r,n))}}),t.dom.extend({siblings:function(e){var n=[];return t.forEach(this,function(e){for(var r=[],i=[],o=e;o=o.previousSibling;)1==o.nodeType&&r.push(o);for(;e=e.nextSibling;)1==e.nodeType&&i.push(e);t.merge(n,r.reverse().concat(i))}),this.pushStack(t.dom.match(n,e))}}),t.dom.extend({add:function(e,n){var r=t.array(this.get());switch(t.type(e)){case"HTMLElement":r.push(e);break;case"$DOM":case"array":t.merge(r,e);break;case"string":t.merge(r,t.dom(e,n));break;default:"object"==typeof e&&e.length&&t.merge(r,e)}return this.pushStack(r.unique())}}),t.dom.extend({contents:function(){for(var e,n,r=[],i=0;n=this[i];i++)e=n.nodeName,r.push.apply(r,t.makeArray(e&&"iframe"===e.toLowerCase()?n.contentDocument||n.contentWindow.document:n.childNodes));return this.pushStack(r)}}),t.string.extend({decodeHTML:function(){var e=this.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&");return e.replace(/&#([\d]+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})}}),t.string.extend({encodeHTML:function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}}),t.string.extend({escapeReg:function(){return this.replace(new RegExp("([.*+?^=!:${}()|[\\]/\\\\])","g"),"\\$1")}}),t.string.filterFormat=function(e,n){var r=[].slice.call(arguments,1),i=r.length,o={}.toString;return i?(1==i&&n&&/Array|Object/.test(o.call(n))&&(r=n),e.replace(/#\{(.+?)\}/g,function(e,n){var i,o,a,u,s=n.split("|");if(!r)return"";for("function"==typeof(i=r[s[0]])&&(i=i(s[0])),o=1,a=s.length;a>o;++o)"function"==typeof(u=t.string.filterFormat[s[o]])&&(i=u(i));return null==i?"":i})):e},t.string.extend({format:function(e){var t=this.valueOf(),n=Array.prototype.slice.call(arguments,0),r=Object.prototype.toString;return n.length?(n=1==n.length&&null!==e&&/\[object Array\]|\[object Object\]/.test(r.call(e))?e:n,t.replace(/#\{(.+?)\}/g,function(e,t){var i=n[t];return"[object Function]"==r.call(i)&&(i=i(t)),"undefined"==typeof i?"":i})):t}}),t.string.extend({formatColor:function(){var e=/^\#[\da-f]{6}$/i,t=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/i,n={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",green:"#008000",lime:"#00ff00",olive:"#808000",yellow:"#ffff0",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff"};return function(){var r=this.valueOf();if(e.test(r))return r;if(t.test(r)){for(var i,o=1,r="#";4>o;o++)i=parseInt(RegExp["$"+o]).toString(16),r+=("00"+i).substr(i.length);return r}if(/^\#[\da-f]{3}$/.test(r)){var a=r.charAt(1),u=r.charAt(2),s=r.charAt(3);return"#"+a+a+u+u+s+s}return n[r]?n[r]:""}}()}),t.string.extend({stripTags:function(){return(this||"").replace(/<[^>]+>/g,"")}}),t.string.extend({getByteLength:function(){return this.replace(/[^\x00-\xff]/g,"ci").length}}),t.string.extend({subByte:function(e,n){if(t.check("number(,string)?$","baidu.string.subByte"),0>e||this.getByteLength()<=e)return this.valueOf();var r=this.substr(0,e).replace(/([^\x00-\xff])/g,"$1 ").substr(0,e).replace(/[^\x00-\xff]$/,"").replace(/([^\x00-\xff]) /g,"$1");return r+(n||"")}}),t.string.extend({toHalfWidth:function(){return this.replace(/[\uFF01-\uFF5E]/g,function(e){return String.fromCharCode(e.charCodeAt(0)-65248)}).replace(/\u3000/g," ")}}),t.string.extend({wbr:function(){return this.replace(/(?:<[^>]+>)|(?:&#?[0-9a-z]{2,6};)|(.{1})/gi,"$&<wbr>").replace(/><wbr>/g,">")}}),t.array.extend({contains:function(e){return!!~this.indexOf(e)}}),t.array.extend({each:function(e,n){return t.each(this,e,n)},forEach:function(e,n){return t.forEach(this,e,n)}}),t.array.each=t.array.forEach=function(e,n,r){var i=function(e,t,i){return n.call(r||i,t,e,i)};return t.isEnumerable(e)?t.each(e,"function"==typeof n?i:"",r):e},t.array.extend({empty:function(){return this.length=0,this}}),t.array.extend({filter:function(e,n){var r,i,o,a=t.array([]),u=0;if("function"===t.type(e))for(r=0,i=this.length;i>r;r++)o=this[r],e.call(n||this,o,r,this)===!0&&(a[u++]=o);return a}}),t.array.filter=function(e,n,r){return t.isArray(e)?t.array(e).filter(n,r):[]},t.array.extend({find:function(e){var n,r,i=this.length;if("function"==t.type(e))for(n=0;i>n;n++)if(r=this[n],e.call(this,r,n,this)===!0)return r;return null}}),t.array.extend({hash:function(e){var t,n,r={},i=e&&e.length;for(t=0,n=this.length;n>t;t++)r[this[t]]=i&&i>t?e[t]:!0;return r}}),t.array.extend({lastIndexOf:function(e,n){t.check(".+(,number)?","baidu.array.lastIndexOf");var r=this.length;for((!(n=0|n)||n>=r)&&(n=r-1),0>n&&(n+=r);n>=0;n--)if(n in this&&this[n]===e)return n;return-1}}),t.array.extend({remove:function(e){for(var t=this.length;t--;)this[t]===e&&this.splice(t,1);return this}}),t.array.extend({removeAt:function(e){return t.check("number","baidu.array.removeAt"),this.splice(e,1)[0]}}),t.object=t.object||{},t.lang.isArray=t.isArray,t.object.isPlain=t.isPlainObject,t.object.clone=function(e){var n,r,i=e;if(!e||e instanceof Number||e instanceof String||e instanceof Boolean)return i;if(t.lang.isArray(e)){i=[];var o=0;for(n=0,r=e.length;r>n;n++)i[o++]=t.object.clone(e[n])}else if(t.object.isPlain(e)){i={};for(n in e)e.hasOwnProperty(n)&&(i[n]=t.object.clone(e[n]))}return i},t.object.each=function(e,t){var n,r,i;if("function"==typeof t)for(r in e)if(e.hasOwnProperty(r)&&(i=e[r],n=t.call(e,i,r),n===!1))break;return e},t.object.extend=t.extend,t.object.isEmpty=function(e){var t=!0;if("[object Array]"===Object.prototype.toString.call(e))t=!e.length;else{e=new Object(e);for(var n in e)return!1}return t},t.object.keys=function(e){var t,n=[],r=0;for(t in e)e.hasOwnProperty(t)&&(n[r++]=t);return n},t.object.map=function(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r],r));return n},t.lang.isObject=t.isObject,t.lang.isFunction=t.isFunction,t.object.merge=function(){function e(e){return t.lang.isObject(e)&&!t.lang.isFunction(e)}function n(n,r,i,o,a){r.hasOwnProperty(i)&&(a&&e(n[i])?t.object.merge(n[i],r[i],{overwrite:o,recursive:a}):!o&&i in n||(n[i]=r[i]))}return function(e,t,r){var i,o=0,a=r||{},u=a.overwrite,s=a.whiteList,l=a.recursive;if(s&&s.length)for(i=s.length;i>o;++o)n(e,t,s[o],u,l);else for(o in t)n(e,t,o,u,l);return e}}(),t.object.values=function(e){var t,n=[],r=0;for(t in e)e.hasOwnProperty(t)&&(n[r++]=e[t]);return n},t.createChain("fn",function(e){return new t.fn.$Fn(~"function|string".indexOf(t.type(e))?e:function(){})},function(e){this.fn=e}),t.fn.extend({bind:function(e){var n=this.fn,r=arguments.length>1?Array.prototype.slice.call(arguments,1):null;return function(){var i="string"===t.type(n)?e[n]:n,o=r?r.concat(Array.prototype.slice.call(arguments,0)):arguments;return i.apply(e||i,o)}}}),t.fn.bind=function(e){var n=t.fn(e);return n.bind.apply(n,Array.prototype.slice.call(arguments,1))},t.fn.blank=function(){},t.json=t.json||{},t.json.parse=function(e){return new Function("return ("+e+")")()},t.json.stringify=function(){function e(e){return/["\\\x00-\x1f]/.test(e)&&(e=e.replace(/["\\\x00-\x1f]/g,function(e){var t=o[e];return t?t:(t=e.charCodeAt(),"\\u00"+Math.floor(t/16).toString(16)+(t%16).toString(16))})),'"'+e+'"'}function n(e){var n,r,i,o=["["],a=e.length;for(r=0;a>r;r++)switch(i=e[r],typeof i){case"undefined":case"function":case"unknown":break;default:n&&o.push(","),o.push(t.json.stringify(i)),n=1}return o.push("]"),o.join("")}function r(e){return 10>e?"0"+e:e}function i(e){return'"'+e.getFullYear()+"-"+r(e.getMonth()+1)+"-"+r(e.getDate())+"T"+r(e.getHours())+":"+r(e.getMinutes())+":"+r(e.getSeconds())+'"'}var o={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return function(r){switch(typeof r){case"undefined":return"undefined";case"number":return isFinite(r)?String(r):"null";case"string":return e(r);case"boolean":return String(r);default:if(null===r)return"null";if("array"===t.type(r))return n(r);if("date"===t.type(r))return i(r);var o,a,u=["{"],s=t.json.stringify;for(var l in r)if(Object.prototype.hasOwnProperty.call(r,l))switch(a=r[l],typeof a){case"undefined":case"unknown":case"function":break;default:o&&u.push(","),o=1,u.push(s(l)+":"+s(a))}return u.push("}"),u.join("")}}}(),t.cookie=t.cookie||{},t.cookie._isValidKey=function(e){return new RegExp('^[^\\x00-\\x20\\x7f\\(\\)<>@,;:\\\\\\"\\[\\]\\?=\\{\\}\\/\\u0080-\\uffff]+$').test(e)},t.cookie.getRaw=function(e){if(t.cookie._isValidKey(e)){var n=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),r=n.exec(document.cookie);if(r)return r[2]||null}return null},t.cookie.get=function(e){var n=t.cookie.getRaw(e);return"string"==typeof n?n=decodeURIComponent(n):null},t.cookie.setRaw=function(e,n,r){if(t.cookie._isValidKey(e)){r=r||{};var i=r.expires;"number"==typeof r.expires&&(i=new Date,i.setTime(i.getTime()+r.expires)),document.cookie=e+"="+n+(r.path?"; path="+r.path:"")+(i?"; expires="+i.toGMTString():"")+(r.domain?"; domain="+r.domain:"")+(r.secure?"; secure":"")}},t.cookie.set=function(e,n,r){t.cookie.setRaw(e,encodeURIComponent(n),r)},t.cookie.remove=function(e,n){n=n||{},n.expires=new Date(0),t.cookie.setRaw(e,"",n)},t.when=t.when||function(e){function n(e,t,n){return function(i){t[e]=this,n[e]=arguments.length>1?arguments:i,n===r?l.notifyWith(t,n):--s||l.resolveWith(t,n)}}var r,i,o,a=arguments,u=arguments.length,s=1!==u||e&&"function"===t.type(e.promise)?u:0,l=1===s?e:t.Deferred();if(u>1){r=new Array(u),i=new Array(u),o=new Array(u);for(var d=0;u>d;d++)a[d]&&"function"===t.type(a[d].promise)?a[d].promise().done(n(d,o,a)).fail(l.reject).progress(n(d,i,r)):--s}return!s&&l.resolveWith(o,a),l.promise()},t.createChain("sio",function(e){switch(typeof e){case"string":return new t.sio.$Sio(e)}},function(e){this.url=e}),t.sio._createScriptTag=function(e,t,n){e.setAttribute("type","text/javascript"),n&&e.setAttribute("charset",n),e.setAttribute("src",t),document.getElementsByTagName("head")[0].appendChild(e)},t.sio._removeScriptTag=function(e){if(e.clearAttributes)e.clearAttributes();else for(var t in e)e.hasOwnProperty(t)&&delete e[t];e&&e.parentNode&&e.parentNode.removeChild(e),e=null},t.sio.extend({callByBrowser:function(e,n){var r,i=this.url,o=document.createElement("SCRIPT"),a=0,u=n||{},s=u.charset,l=e||function(){},d=u.timeOut||0;o.onload=o.onreadystatechange=function(){if(!a){var e=o.readyState;if("undefined"==typeof e||"loaded"==e||"complete"==e){a=1;try{l(),clearTimeout(r)}finally{o.onload=o.onreadystatechange=null,t.sio._removeScriptTag(o)}}}},d&&(r=setTimeout(function(){o.onload=o.onreadystatechange=null,t.sio._removeScriptTag(o),u.onfailure&&u.onfailure()},d)),t.sio._createScriptTag(o,i,s)}}),t.lang.isString=t.isString,t.sio.extend({callByServer:function(e,n){function r(n){return function(){try{n?d.onfailure&&d.onfailure():(e.apply(window,arguments),clearTimeout(o)),window[i]=null,delete window[i]}catch(r){}finally{t.sio._removeScriptTag(s)
}}}var i,o,a,u=this.url,s=document.createElement("SCRIPT"),l="bd__cbs__",d=n||{},c=d.charset,f=d.queryField||"callback",p=d.timeOut||0,h=new RegExp("(\\?|&)"+f+"=([^&]*)");t.lang.isFunction(e)?(i=l+Math.floor(2147483648*Math.random()).toString(36),window[i]=r(0)):t.lang.isString(e)?i=e:(a=h.exec(u))&&(i=a[2]),p&&(o=setTimeout(r(1),p)),u=u.replace(h,"$1"+f+"="+i),u.search(h)<0&&(u+=(u.indexOf("?")<0?"?":"&")+f+"="+i),t.sio._createScriptTag(s,u,c)}}),t.sio.extend({log:function(){var e=this.url,t=new Image,n="tangram_sio_log_"+Math.floor(2147483648*Math.random()).toString(36);window[n]=t,t.onload=t.onerror=t.onabort=function(){t.onload=t.onerror=t.onabort=null,window[n]=null,t=null},t.src=e}}),t.swf=t.swf||{},t.swf.version=function(){var e=navigator;if(e.plugins&&e.mimeTypes.length){var t=e.plugins["Shockwave Flash"];if(t&&t.description)return t.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s)+r/,".")+".0"}else if(window.ActiveXObject&&!window.opera)for(var n=12;n>=2;n--)try{var r=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+n);if(r){var i=r.GetVariable("$version");return i.replace(/WIN/g,"").replace(/,/g,".")}}catch(o){}}(),t.swf.createHTML=function(e){e=e||{};var n,r,i,o,a,u,s=t.swf.version,l=e.ver||"6.0.0",d={},c=t.string.encodeHTML;for(o in e)d[o]=e[o];if(e=d,!s)return"";for(s=s.split("."),l=l.split("."),i=0;3>i&&(n=parseInt(s[i],10),r=parseInt(l[i],10),!(n>r));i++)if(r>n)return"";var f=e.vars,p=["classid","codebase","id","width","height","align"];if(e.align=e.align||"middle",e.classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",e.codebase="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0",e.movie=e.url||"",delete e.vars,delete e.url,"string"==typeof f)e.flashvars=f;else{var h=[];for(o in f)u=f[o],h.push(o+"="+encodeURIComponent(u));e.flashvars=h.join("&")}var g=["<object "];for(i=0,a=p.length;a>i;i++)u=p[i],g.push(" ",u,'="',c(e[u]),'"');g.push(">");var m={wmode:1,scale:1,quality:1,play:1,loop:1,menu:1,salign:1,bgcolor:1,base:1,allowscriptaccess:1,allownetworking:1,allowfullscreen:1,seamlesstabbing:1,devicefont:1,swliveconnect:1,flashvars:1,movie:1};for(o in e)u=e[o],o=o.toLowerCase(),m[o]&&(u||u===!1||0===u)&&g.push('<param name="'+o+'" value="'+c(u)+'" />');e.src=e.movie,e.name=e.id,delete e.id,delete e.movie,delete e.classid,delete e.codebase,e.type="application/x-shockwave-flash",e.pluginspage="http://www.macromedia.com/go/getflashplayer",g.push("<embed");var v;for(o in e)if(u=e[o],u||u===!1||0===u){if(new RegExp("^salign$","i").test(o)){v=u;continue}g.push(" ",o,'="',c(u),'"')}return v&&g.push(' salign="',c(v),'"'),g.push("></embed></object>"),g.join("")},t.swf.create=function(e,n){e=e||{};var r=t.swf.createHTML(e)||e.errorMessage||"";n&&"string"==typeof n&&(n=document.getElementById(n)),t.dom.insertHTML(n||document.body,"beforeEnd",r)},t.lang.toArray=function(e){if(null===e||void 0===e)return[];if(t.lang.isArray(e))return e;if("number"!=typeof e.length||"string"==typeof e||t.lang.isFunction(e))return[e];if(e.item){for(var n=e.length,r=new Array(n);n--;)r[n]=e[n];return r}return[].slice.call(e)},t.swf.getMovie=function(e){var n,r=document[e];return 9==t.browser.ie?r&&r.length?1==(n=t.array.remove(t.lang.toArray(r),function(e){return"embed"!=e.tagName.toLowerCase()})).length?n[0]:n:r:r||window[e]},t.base=t.base||{blank:function(){}},t.base.Class=function(){var e=(t._global_=window[t.guid])._instances;return e||(e=t._global_._instances={}),function(){this.guid=t.id(this),this._decontrol_||(e[this.guid]=this)}}(),t.extend(t.base.Class.prototype,{toString:t.base.Class.prototype.toString=function(){return"[object "+(this._type_||"Object")+"]"},dispose:function(){if(delete t._global_._instances[this.guid],this._listeners_)for(var e in this._listeners_)this._listeners_[e].length=0,delete this._listeners_[e];for(var n in this)t.isFunction(this[n])?this[n]=t.base.blank:delete this[n];this.disposed=!0},fire:function(e,n){t.isString(e)&&(e=new t.base.Event(e));var r,i,o,a=this._listeners_,u=e.type,s=[e].concat(Array.prototype.slice.call(arguments,1));if(!a&&(a=this._listeners_={}),t.extend(e,n||{}),e.target=e.target||this,e.currentTarget=this,u.indexOf("on")&&(u="on"+u),t.isFunction(this[u])&&this[u].apply(this,s),(r=this._options)&&t.isFunction(r[u])&&r[u].apply(this,s),t.isArray(i=a[u]))for(r=i.length-1;r>-1;r--)o=i[r],o&&o.handler.apply(this,s),o&&o.once&&i.splice(r,1);return e.returnValue},on:function(e,n,r){if(!t.isFunction(n))return this;var i,o=this._listeners_;return!o&&(o=this._listeners_={}),e.indexOf("on")&&(e="on"+e),!t.isArray(i=o[e])&&(i=o[e]=[]),o[e].unshift({handler:n,once:!!r}),this},once:function(e,t){return this.on(e,t,!0)},one:function(e,t){return this.on(e,t,!0)},off:function(e,t){var n,r,i=this._listeners_;if(!i)return this;if("undefined"==typeof e){for(n in i)delete i[n];return this}if(e.indexOf("on")&&(e="on"+e),"undefined"==typeof t)delete i[e];else if(r=i[e])for(n=r.length-1;n>=0;n--)r[n].handler===t&&r.splice(n,1);return this}}),t.base.Class.prototype.addEventListener=t.base.Class.prototype.on,t.base.Class.prototype.removeEventListener=t.base.Class.prototype.un=t.base.Class.prototype.off,t.base.Class.prototype.dispatchEvent=t.base.Class.prototype.fire,window.baiduInstance=function(e){return window[t.guid]._instances[e]},t.base.Event=function(e,t){this.type=e,this.returnValue=!0,this.target=t||null,this.currentTarget=null,this.preventDefault=function(){this.returnValue=!1}},t.lang.Class=t.base.Class,t.lang.Event=function(e,t){this.type=e,this.returnValue=!0,this.target=t||null,this.currentTarget=null},t.lang.Class.prototype.addEventListener=function(e,n,r){if(t.lang.isFunction(n)){!this.__listeners&&(this.__listeners={});var i,o=this.__listeners;if("string"==typeof r&&r){if(/[^\w\-]/.test(r))throw"nonstandard key:"+r;n.hashCode=r,i=r}0!=e.indexOf("on")&&(e="on"+e),"object"!=typeof o[e]&&(o[e]={}),i=i||t.id(),n.hashCode=i,o[e][i]=n}},t.lang.Class.prototype.removeEventListener=function(e,n){if("undefined"==typeof n||(!t.lang.isFunction(n)||(n=n.hashCode))&&t.lang.isString(n)){!this.__listeners&&(this.__listeners={}),0!=e.indexOf("on")&&(e="on"+e);var r=this.__listeners;if(r[e])if("undefined"!=typeof n)r[e][n]&&delete r[e][n];else for(var i in r[e])delete r[e][i]}},t.lang.Class.prototype.dispatchEvent=function(e,n){t.lang.isString(e)&&(e=new t.lang.Event(e)),!this.__listeners&&(this.__listeners={}),n=n||{};for(var r in n)e[r]=n[r];var r,i=this.__listeners,o=e.type;if(e.target=e.target||this,e.currentTarget=this,0!=o.indexOf("on")&&(o="on"+o),t.lang.isFunction(this[o])&&this[o].apply(this,arguments),"object"==typeof i[o])for(r in i[o])i[o][r].apply(this,arguments);return e.returnValue},t.lang.Class.prototype.addEventListeners=function(e,n){if("undefined"==typeof n)for(var r in e)this.addEventListener(r,e[r]);else{e=e.split(",");for(var r=0,i=e.length;i>r;r++)this.addEventListener(t.trim(e[r]),n)}},t.createClass=function(e,n,r){e=t.isFunction(e)?e:function(){},r="object"==typeof n?n:r||{};var i=function(){var t=this;r.decontrolled&&(t._decontrol_=!0),i.superClass.apply(t,arguments);for(var n in i.options)t[n]=i.options[n];e.apply(t,arguments);for(var n=0,o=i._reg_;o&&n<o.length;n++)o[n].apply(t,arguments)};return t.extend(i,{superClass:r.superClass||t.base.Class,inherits:function(n){if("function"!=typeof n)return i;var r=function(){};r.prototype=(i.superClass=n).prototype;var o=i.prototype=new r;return t.extend(i.prototype,e.prototype),o.constructor=e,i},register:function(e,n){return(i._reg_||(i._reg_=[])).push(e),n&&t.extend(i.prototype,n),i},extend:function(e){return t.extend(i.prototype,e),i}}),n=t.isString(n)?n:r.className||r.type,t.isString(n)&&(e.prototype._type_=n),t.isFunction(i.superClass)&&i.inherits(i.superClass),i},t.lang.createClass=t.createClass,t.swf.Proxy=function(e,n,r){var i,o=this,a=this._flash=t.swf.getMovie(e);return n?void(i=setInterval(function(){try{a[n]&&(o._initialized=!0,clearInterval(i),r&&r())}catch(e){}},100)):this},t.swf.Proxy.prototype.getFlash=function(){return this._flash},t.swf.Proxy.prototype.isReady=function(){return!!this._initialized},t.swf.Proxy.prototype.call=function(e){try{var t=this.getFlash(),n=Array.prototype.slice.call(arguments);n.shift(),t[e]&&t[e].apply(t,n)}catch(r){}},t.lang.inherits=function(e,t,n){var r,i,o=e.prototype,a=new Function;a.prototype=t.prototype,i=e.prototype=new a;for(r in o)i[r]=o[r];return"string"==typeof n&&(i._className=n),e.prototype.constructor=e,e.superClass=t.prototype,"string"==typeof n&&(i.__type=n),e.extend=function(t){for(var n in t)i[n]=t[n];return e},e},t.inherits=t.lang.inherits,t.ac=t.dom.addClass,t.rc=t.dom.removeClass,t.dom.setAttr=function(e,n,r){return t(e).attr(n,r),e},t.dom.setAttrs=function(e,n){e=t.dom.g(e);for(var r in n)t.dom.setAttr(e,r,n[r]);return e},t.string.filterFormat.escapeString=function(e){return e&&"string"==typeof e?e.replace(/["'<>\\\/`]/g,function(e){return"&#"+e.charCodeAt(0)+";"}):e},t.array.some=function(e,t,n){for(var r=0,i=e.length;i>r;r++)if(r in e&&t.call(n||e,e[r],r))return!0;return!1},t.url=t.url||{},t.url.escapeSymbol=function(e){return String(e).replace(/[#%&+=\/\\\ \\f\r\n\t]/g,function(e){return"%"+(256+e.charCodeAt()).toString(16).substring(1).toUpperCase()})},t.url.getQueryValue=function(e,n){var r=new RegExp("(^|&|\\?|#)"+t.string.escapeReg(n)+"=([^&#]*)(&|$|#)",""),i=e.match(r);return i?i[2]:null},t.url.queryToJson=function(e){for(var n,r,i,o,a=e.substr(e.lastIndexOf("?")+1),u=a.split("&"),s=u.length,l={},d=0;s>d;d++)u[d]&&(o=u[d].split("="),n=o[0],r=o[1],i=l[n],"undefined"==typeof i?l[n]=r:t.lang.isArray(i)?i.push(r):l[n]=[i,r]);return l},t.url.jsonToQuery=function(e,n){var r,i=[],o=n||function(e){return t.url.escapeSymbol(e)};return t.object.each(e,function(e,n){if(t.lang.isArray(e))for(r=e.length;r--;)i.push(n+"="+o(e[r],n));else i.push(n+"="+o(e,n))}),i.join("&")},t.array=t.array||{},t.dom=t.dom||{},t.addClass=t.dom.addClass||{},t.g=t.G=t.dom.g||{},t.getAttr=t.dom.getAttr=t._util_.attr,t.getStyle=t.dom.getStyle||{},t.hide=t.dom.hide||{},t.insertHTML=t.dom.insertHTML||{},t.dom.q=function(e){return document.getElementsByClassName(e)},t.dom.create=function(e,n){var r=document.createElement(e),i=n||{};return t.dom.setAttrs(r,i)},t.removeClass=t.dom.removeClass||{},t.event=t.event||{},t.on=t.event.on||{},t.un=t.event.un||{},t.object=t.object||{},t.string=t.string||{},t.decodeHTML=t.string.decodeHTML||{},t.encodeHTML=t.string.encodeHTML||{},t.format=t.string.format||{},t.trim=function(){var e=new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+$)","g");return function(t){return String(t).replace(e,"")}}(),t}();baidu.lang.createSingle=function(e){var t=new baidu.lang.Class;for(var n in e)t[n]=e[n];return t},baidu.dom.setStyles=function(e,t){e=baidu.dom.g(e);for(var n in t)baidu.dom.setStyle(e,n,t[n]);return e},baidu.setStyles=baidu.dom.setStyles,window.jsonp={},baidu.jsonp=function(e,t,n){t&&"function"!=typeof t&&(n=t,t=n.success||function(){}),n=n||{},n.cbtype=n.cbtype||"callback";var r="jsonp"+Math.floor(1e8*Math.random());window[r]=function(e){o.endTime=(new Date).getTime();var n=o.endTime-o.startTime;n>6e3?o.slow="6":n>3e3?o.slow="3":n>2e3&&(o.slow="2"),window[r]=void 0,t&&t(e,o),o.dom=null,document.body.removeChild(i)};var i=document.createElement("script"),o={options:n,startTime:(new Date).getTime(),slow:!1,dom:i,url:e};if(-1!=e.indexOf("?"))var a="&";else var a="?";return i.src=e+a+n.cbtype+"="+r,i.onerror=function(){window[r]=void 0,n.error&&n.error(o),o.dom=null,document.body.removeChild(i)},document.body.appendChild(i),o},baidu.Ajax=function(e){if(this.url="",this.data="",this.async=!0,this.duration=-1,this.overtime=!1,this.username="",this.password="",this.method="GET","object"==typeof e&&e)for(var t in e)this[t]=e[t]},function(){function e(){for(var e=t,n=null,r=0;r<e.length&&(n=e[r],n.active);r++);return r>=e.length&&(n={active:!1,xhr:getXHR()},e[e.length]=n),n}baidu.Ajax.prototype.request=function(t,n,r){function i(){if(4==s.readyState){try{s.status}catch(e){return"function"==typeof a.ondisconnect&&a.ondisconnect(s),void(u.active=!1)}try{var t=(new Date).getTime();t-d>6e3&&r?r("6"):t-d>3e3&&r?r("3"):t-d>2e3&&r&&r("")}catch(e){}a.duration=-1,a.overtime||("function"==typeof a["on"+s.status]&&a["on"+s.status](s),200==s.status||304===s.status?"function"==typeof a.onsuccess&&a.onsuccess(s):"function"==typeof a.onfailure&&a.onfailure(s)),u.active=!1,s.onreadystatechange=function(){}}}function o(){if(-1!=a.duration){if((new Date).getTime()-a.beginTime>a.duration){a.duration=-1;try{s.abort()}catch(e){}a.overtime=!0,u.active=!1,"function"==typeof a.ontimeout&&a.ontimeout(s)}setTimeout(function(){o()},10)}}var a=this,u=e(),s=u.xhr;u.active=!0,a.url=t,"string"==typeof n&&n&&(a.data=n),"function"==typeof a.onexecute&&a.onexecute(s);try{a.username?s.open(a.method,a.url,a.async,a.username,a.password):s.open(a.method,a.url,a.async),a.async&&(s.onreadystatechange=i),"POST"==a.method.toUpperCase()&&s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.beginTime=(new Date).getTime(),a.duration>0&&o(),s.send(a.data)}catch(l){"function"==typeof a.onerror&&a.onerror(l)}a.async||i();var d=(new Date).getTime()};var t=[]}(),baidu.Ajax.get=function(e,t){return this.request(e,t)},baidu.Ajax.post=function(e,t,n,r){var i=new baidu.Ajax({onsuccess:n,onfailure:r});return i.method="POST",i.request(e,t),i},baidu.Ajax.request=function(e,t,n){if("object"==typeof t&&t?(n=t,t=null):"function"==typeof t&&(n=n||{},n.onsuccess=t,t=null),n.onslow){var r=n.onslow;n.onslow=null}var i=new baidu.Ajax(n);return i.request(e,t,r),i},T.ajax=function(){function array2Url(e){var t=[];for(key in e)t.push(encodeURIComponent(key)+"="+encodeURIComponent(e[key]));return t.length>0?t.join("&"):""}function request(e,t){if("object"==typeof e){var n=e,r=n.url;n.method=n.type||"get";var i=n.dataType||"";if("jsonp"===i){var o="";if(n.data){var a=array2Url(n.data);a&&(o=(r.indexOf("?")>-1?"&":"?")+a)}var u=r+o,s=n.jsonp||"";return void baidu.jsonp(u,n.success,{error:n.error,cbtype:s})}t=n,e=r}var l=(t&&t.method||"get").toLowerCase(),d=t.data,c=!0;"object"==typeof d&&null!==d&&(window.FormData&&d instanceof window.FormData?c=!1:d=array2Url(d)),0==e.indexOf("/")&&(e=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")+e),"get"!=l&&"delete"!=l&&"put"!=l||"string"!=typeof d||(e+=(-1==e.indexOf("?")?"?":"&")+d);var f=getTransport(e);void 0===t.async&&(t.async=!0),f.open(l,e,t.async);var p=t.headers||{};c&&"post"==l&&!p["Content-Type"]&&(p["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8");for(var h in p){var g=p[h];"string"==typeof g&&f.setRequestHeader(h,g)}return f.onreadystatechange=function(){stateChange(f,t)},isXhr&&(f.timeStart=(new Date).getTime()),f.send(d),f}function stateChange(trans,options){if(4==trans.readyState){trans.onreadystatechange=function(){};var status=trans.status;if("number"==typeof status&&status>=200&&300>status){if("function"!=typeof options.success)return;if(isXhr){trans.timeEnd=(new Date).getTime();var duration=trans.timeEnd-trans.timeStart;trans.slow=duration>6e3?"6":duration>3e3?"3":duration>2e3?"2":null}var data;switch(options.dataType){case"text":data=trans.responseText;break;case"json":trans.responseText&&(data=eval("("+trans.responseText+")"));break;case"xml":data=trans.responseXML}options.success.call(options.context,data,trans),alog("cus.fire","time",{z_ajax_time:duration})}else if("function"==typeof options.error){var error={status:trans.status,statusText:trans.statusText,data:trans.responseText};options.error.call(options.context,trans),alog("cus.fire","count","z_ajax_error")}}}var getTransport=function(){if(window.XMLHttpRequest)return isXhr=!0,new XMLHttpRequest;try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){return!1}}},isXhr=!1;return request}();var rbracket=/\[\]$/;baidu.ajax.param=function(e,t){var n=[];if("array"===baidu.type(e))baidu.forEach(e,function(e){addParam(n,e.name,e.value)});else for(var r in e)buildParams(n,r,e[r],t);return n.join("&").replace(/%20/g,"+")},baidu.dom.removeClass=function(e,t){if(e){e=baidu.dom.g(e);for(var n,r,i=e.className.split(/\s+/),o=t.split(/\s+/),a=o.length,u=0;a>u;++u)for(r=0,n=i.length;n>r;++r)if(i[r]==o[u]){i.splice(r,1);break}return e.className=i.join(" "),e}},baidu.removeClass=baidu.rc=baidu.dom.removeClass,baidu.ui=baidu.ui||{version:"1.3.9"},baidu.ui.getUI=function(e){for(var e=e.split("-"),t=baidu.ui,n=e.length,r=0;n>r;r++)t=t[e[r].charAt(0).toUpperCase()+e[r].slice(1)];return t},baidu.ui.create=function(e,t){return baidu.lang.isString(e)&&(e=baidu.ui.getUI(e)),new e(t)},baidu.ui.Base={id:"",getId:function(e){var t,n=this;return t="tangram-"+n.uiType+"--"+(n.id?n.id:n.guid),e?t+"-"+e:t},getClass:function(e){var t=this,n=t.classPrefix,r=t.skin;return e&&(n+="-"+e,r+="-"+e),t.skin&&(n+=" "+r),n},getMain:function(){return baidu.g(this.mainId)},getBody:function(){return baidu.g(this.getId())},uiType:"",getCallRef:function(){return"window['$BAIDU$']._instances['"+this.guid+"']"},getCallString:function(e){for(var t=0,n=Array.prototype.slice.call(arguments,1),r=n.length;r>t;t++)"string"==typeof n[t]&&(n[t]="'"+n[t]+"'");return this.getCallRef()+"."+e+"("+n.join(",")+");"},on:function(e,t,n){baidu.on(e,t,n),this.addEventListener("ondispose",function(){baidu.un(e,t,n)})},renderMain:function(e){try{var t=this;if(t.getMain())return;return e=baidu.g(e),e||(e=document.createElement("div"),document.body.appendChild(e),e.style.position="absolute",e.className=t.getClass("main")),e.id||(e.id=t.getId("main")),t.mainId=e.id,e.setAttribute("data-guid",t.guid),e}catch(n){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:n.message||n.description,path:"common:widget/ui/tangram/tangram.js",ln:7191})}},dispose:function(){this.dispatchEvent("dispose"),baidu.lang.Class.prototype.dispose.call(this)}},baidu.ui.createUI=function(e,t){t=t||{};var n,r,i=t.superClass||baidu.lang.Class,o=i==baidu.lang.Class?1:0,a=function(t,u){var s=this;t=t||{},i.call(s,o?t.guid||"":t,!0),baidu.object.extend(s,a.options),baidu.object.extend(s,t),s.classPrefix=s.classPrefix||"tangram-"+s.uiType.toLowerCase();for(n in baidu.ui.behavior)"undefined"!=typeof s[n]&&s[n]&&(baidu.object.extend(s,baidu.ui.behavior[n]),baidu.lang.isFunction(s[n])?s.addEventListener("onload",function(){baidu.ui.behavior[n].call(s[n].apply(s))}):baidu.ui.behavior[n].call(s));for(e.apply(s,arguments),n=0,r=a._addons.length;r>n;n++)a._addons[n](s);t.parent&&s.setParent&&s.setParent(t.parent),!u&&t.autoRender&&s.render(t.element)},u=function(){};u.prototype=i.prototype;var s=a.prototype=new u;for(n in baidu.ui.Base)s[n]=baidu.ui.Base[n];return a.extend=function(e){for(n in e)a.prototype[n]=e[n];return a},a._addons=[],a.register=function(e){"function"==typeof e&&a._addons.push(e)},a.options={},a},baidu.string.format=function(e,t){e=String(e);var n=Array.prototype.slice.call(arguments,1),r=Object.prototype.toString;return n.length?(n=1==n.length&&null!==t&&/\[object Array\]|\[object Object\]/.test(r.call(t))?t:n,e.replace(/#\{(.+?)\}/g,function(e,t){var i=n[t];return"[object Function]"==r.call(i)&&(i=i(t)),"undefined"==typeof i?"":i})):e},baidu.format=baidu.string.format,baidu.ui.Base.setParent=function(e){var t=this,n=t._parent;n&&n.dispatchEvent("removechild"),e.dispatchEvent("appendchild",{child:t})&&(t._parent=e)},baidu.ui.Base.getParent=function(){return this._parent||null},baidu.ui.behavior=baidu.ui.behavior||{},baidu.event.getTarget=function(e){return e.target||e.srcElement},function(){var e=baidu.ui.behavior.statable=function(){var e=this;e.addEventListeners("ondisable,onenable",function(t,n){var r;n=n||{},elementId=(n.element||e.getMain()).id,r=n.group,"ondisable"!=t.type||e.getState(elementId,r).disabled?"onenable"==t.type&&e.getState(elementId,r).disabled&&e.removeState("disabled",elementId,r):(e.removeState("press",elementId,r),e.removeState("hover",elementId,r),e.setState("disabled",elementId,r))})};e._states={},e._allStates=["hover","press","disabled"],e._allEventsName=["mouseover","mouseout","mousedown","mouseup"],e._eventsHandler={mouseover:function(e,t){var n=this;return n.getState(e,t).disabled?void 0:(n.setState("hover",e,t),!0)},mouseout:function(e,t){var n=this;return n.getState(e,t).disabled?void 0:(n.removeState("hover",e,t),n.removeState("press",e,t),!0)},mousedown:function(e,t){var n=this;return n.getState(e,t).disabled?void 0:(n.setState("press",e,t),!0)},mouseup:function(e,t){var n=this;return n.getState(e,t).disabled?void 0:(n.removeState("press",e,t),!0)}},e._getStateHandlerString=function(e,t){var n,r=this,i=0,o=r._allEventsName.length,a=[];for("undefined"==typeof e&&(e=t="");o>i;i++)n=r._allEventsName[i],a[i]="on"+n+'="'+r.getCallRef()+"._fireEvent('"+n+"', '"+e+"', '"+t+"', event)\"";return a.join(" ")},e._fireEvent=function(e,t,n,r){var i=this,o=i.getId(t+n);i._eventsHandler[e].call(i,o,t)&&i.dispatchEvent(e,{element:o,group:t,key:n,DOMEvent:r})},e.addState=function(e,t,n){var r=this;r._allStates.push(e),t&&(r._allEventsName.push(t),n||(n=function(){return!0}),r._eventsHandler[t]=n)},e.getState=function(e,t){var n,r=this;return t=t?t+"-":"",e=e?e:r.getId(),n=r._states[t+e],n?n:{}},e.setState=function(e,t,n){var r,i,o=this;n=n?n+"-":"",t=t?t:o.getId(),r=n+t,o._states[r]=o._states[r]||{},i=o._states[r][e],i||(o._states[r][e]=1,baidu.addClass(t,o.getClass(n+e)))},e.removeState=function(e,t,n){var r,i=this;n=n?n+"-":"",t=t?t:i.getId(),r=n+t,i._states[r]&&(i._states[r][e]=0,baidu.removeClass(t,i.getClass(n+e)))}}(),baidu.ui.Button=baidu.ui.createUI(new Function).extend({uiType:"button",tplBody:'<div id="#{id}" #{statable} class="#{class}">#{content}</div>',disabled:!1,statable:!0,_getString:function(){var e=this;return baidu.format(e.tplBody,{id:e.getId(),statable:e._getStateHandlerString(),"class":e.getClass(),content:e.content})},render:function(e){try{var t,n=this;n.addState("click","click"),baidu.dom.insertHTML(n.renderMain(e),"beforeEnd",n._getString()),t=baidu.g(e).lastChild,n.title&&(t.title=n.title),n.disabled&&n.setState("disabled"),n.dispatchEvent("onload")}catch(r){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:r.message||r.description,path:"common:widget/ui/tangram/tangram.js",ln:7657})}},isDisabled:function(){{var e=this;e.getId()}return e.getState().disabled},dispose:function(){var e=this,t=e.getBody();e.dispatchEvent("dispose"),baidu.each(e._allEventsName,function(e){t["on"+e]=null}),baidu.dom.remove(t),e.dispatchEvent("ondispose"),baidu.lang.Class.prototype.dispose.call(e)},disable:function(){var e=this,t=e.getBody();e.dispatchEvent("ondisable",{element:t})},enable:function(){var e=this;body=e.getBody(),e.dispatchEvent("onenable",{element:body})},fire:function(e,t){var n=this,e=e.toLowerCase();n.getState().disabled||n._fireEvent(e,null,null,t)},update:function(e){var t=this;baidu.extend(t,e),e.content&&(t.getBody().innerHTML=e.content),t.dispatchEvent("onupdate")}}),baidu.ui.Button.register(function(e){e.capture&&e.addEventListener("load",function(){var t=e.getBody(),n=baidu.fn.bind(function(n){var r=baidu.event.getTarget(n);r!=t&&!baidu.dom.contains(t,r)&&e.getState().press&&e.fire("mouseout",n)}),r=function(t){e.getState().press||e.fire("mouseout",t)};t.onmouseout=null,e.on(t,"mouseout",r),e.on(document,"mouseup",n)})}),baidu.lang.isBoolean=function(e){return"boolean"==typeof e},baidu.ui.Button.register(function(e){e.poll&&(baidu.lang.isBoolean(e.poll)&&(e.poll={}),e.addEventListener("mousedown",function(){var t=0,n=e.poll.interval||100,r=e.poll.time||0;!function(){e.getState().press&&(t++>r&&e.onmousedown&&e.onmousedown(),e.poll.timeOut=setTimeout(arguments.callee,n))}()}),e.addEventListener("dispose",function(){e.poll.timeOut&&(e.disable(),window.clearTimeout(e.poll.timeOut))}))}),baidu.page=baidu.page||{},baidu.page.getScrollTop=function(){var e=document;return window.pageYOffset||e.documentElement.scrollTop||e.body.scrollTop},baidu.page.getScrollLeft=function(){var e=document;return window.pageXOffset||e.documentElement.scrollLeft||e.body.scrollLeft},function(){baidu.page.getMousePosition=function(){return{x:baidu.page.getScrollLeft()+e.x,y:baidu.page.getScrollTop()+e.y}};var e={x:0,y:0};baidu.event.on(document,"onmousemove",function(t){t=window.event||t,e.x=t.clientX,e.y=t.clientY})}(),baidu.dom.getDocument=function(e){return e=baidu.dom.g(e),9==e.nodeType?e:e.ownerDocument||e.document},baidu.dom.getComputedStyle=function(e,t){e=baidu.dom._g(e);var n,r=baidu.dom.getDocument(e);return r.defaultView&&r.defaultView.getComputedStyle&&(n=r.defaultView.getComputedStyle(e,null))?n[t]||n.getPropertyValue(t):""},baidu.dom._styleFixer=baidu.dom._styleFixer||{},baidu.dom._styleFilter=baidu.dom._styleFilter||[],baidu.dom._styleFilter.filter=function(e,t,n){for(var r,i=0,o=baidu.dom._styleFilter;r=o[i];i++)(r=r[n])&&(t=r(e,t));return t},baidu.string.toCamelCase=function(e){return e.indexOf("-")<0&&e.indexOf("_")<0?e:e.replace(/[-_][^-_]/g,function(e){return e.charAt(1).toUpperCase()})},baidu.dom.getStyle=function(e,t){var n=baidu.dom;e=n.g(e),t=baidu.string.toCamelCase(t);var r=e.style[t]||(e.currentStyle?e.currentStyle[t]:"")||n.getComputedStyle(e,t);if(!r){var i=n._styleFixer[t];i&&(r=i.get?i.get(e):baidu.dom.getStyle(e,i))}return(i=n._styleFilter)&&(r=i.filter(t,r,"get")),r},baidu.getStyle=baidu.dom.getStyle,baidu.dom.getPosition=function(e){e=baidu.dom.g(e);var t,n,r=baidu.dom.getDocument(e),i=baidu.browser,o=baidu.dom.getStyle,a=(i.isGecko>0&&r.getBoxObjectFor&&"absolute"==o(e,"position")&&(""===e.style.top||""===e.style.left),{left:0,top:0}),u=i.ie&&!i.isStrict?r.body:r.documentElement;if(e==u)return a;if(e.getBoundingClientRect){n=e.getBoundingClientRect(),a.left=Math.floor(n.left)+Math.max(r.documentElement.scrollLeft,r.body.scrollLeft),a.top=Math.floor(n.top)+Math.max(r.documentElement.scrollTop,r.body.scrollTop),a.left-=r.documentElement.clientLeft,a.top-=r.documentElement.clientTop;var s=r.body,l=parseInt(o(s,"borderLeftWidth")),d=parseInt(o(s,"borderTopWidth"));i.ie&&!i.isStrict&&(a.left-=isNaN(l)?2:l,a.top-=isNaN(d)?2:d)}else{t=e;do{if(a.left+=t.offsetLeft,a.top+=t.offsetTop,i.isWebkit>0&&"fixed"==o(t,"position")){a.left+=r.body.scrollLeft,a.top+=r.body.scrollTop;break}t=t.offsetParent}while(t&&t!=e);for((i.opera>0||i.isWebkit>0&&"absolute"==o(e,"position"))&&(a.top-=r.body.offsetTop),t=e.offsetParent;t&&t!=r.body;)a.left-=t.scrollLeft,i.opera&&"TR"==t.tagName||(a.top-=t.scrollTop),t=t.offsetParent}return a},baidu.event.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},function(){function e(e){baidu.extend(o,e)}function t(){clearInterval(p),o.capture&&o.handler.releaseCapture?o.handler.releaseCapture():o.capture&&window.releaseEvents&&window.releaseEvents(Event.MOUSEMOVE|Event.MOUSEUP),document.body.style.MozUserSelect=d,baidu.event.un(document,"selectstart",r),o.autoStop&&baidu.event.un(o.handler,"mouseup",t),o.autoStop&&baidu.event.un(window,"mouseup",t),m(o.ondragend)&&o.ondragend(i,o)}function n(){var e=o.range,t=baidu.page.getMousePosition(),n=l+t.x-a,r=s+t.y-u;"object"==typeof e&&e&&4==e.length&&(n=Math.max(e[3],n),n=Math.min(e[1]-i.offsetWidth,n),r=Math.max(e[0],r),r=Math.min(e[2]-i.offsetHeight,r)),i.style.top=r+"px",i.style.left=n+"px",c===n&&f===r||null===c&&null===f||m(o.ondrag)&&o.ondrag(i,o),c=n,f=r}function r(e){return baidu.event.preventDefault(e,!1)}var i,o,a,u,s,l,d,c,f,p,h,g,m=baidu.lang.isFunction;baidu.dom.drag=function(v,y){if(f=c=null,!(i=baidu.dom.g(v)))return!1;if(o=baidu.object.extend({autoStop:!0,capture:!0,interval:20,handler:i},y),h=baidu.dom.getPosition(i.offsetParent),g=baidu.dom.getPosition(i),"absolute"==baidu.getStyle(i,"position")?(s=g.top-(i.offsetParent==document.body?0:h.top),l=g.left-(i.offsetParent==document.body?0:h.left)):(s=parseFloat(baidu.getStyle(i,"top"))||-parseFloat(baidu.getStyle(i,"bottom"))||0,l=parseFloat(baidu.getStyle(i,"left"))||-parseFloat(baidu.getStyle(i,"right"))||0),o.mouseEvent)a=baidu.page.getScrollLeft()+o.mouseEvent.clientX,u=baidu.page.getScrollTop()+o.mouseEvent.clientY;else{var b=baidu.page.getMousePosition();a=b.x,u=b.y}return o.autoStop&&baidu.event.on(o.handler,"mouseup",t),o.autoStop&&baidu.event.on(window,"mouseup",t),baidu.event.on(document,"selectstart",r),o.capture&&o.handler.setCapture?o.handler.setCapture():o.capture&&window.captureEvents&&window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP),d=document.body.style.MozUserSelect,document.body.style.MozUserSelect="none",m(o.ondragstart)&&o.ondragstart(i,o),p=setInterval(n,o.interval),{stop:t,update:e}}}(),baidu.dom.setStyle=function(e,t,n){var r,i=baidu.dom;return e=i.g(e),t=baidu.string.toCamelCase(t),(r=i._styleFilter)&&(n=r.filter(t,n,"set")),r=i._styleFixer[t],r&&r.set?r.set(e,n):e.style[r||t]=n,e},baidu.setStyle=baidu.dom.setStyle,baidu.dom.draggable=function(e,t){function n(n){var r=t.mouseEvent=window.event||n;r.button>1||baidu.lang.isFunction(t.toggle)&&!t.toggle()||("static"==baidu.dom.getStyle(e,"position")&&baidu.dom.setStyle(e,"position","relative"),baidu.lang.isFunction(t.onbeforedragstart)&&t.onbeforedragstart(e),o=baidu.dom.drag(e,t),s.stop=o.stop,s.update=o.update,baidu.event.preventDefault(r))}t=baidu.object.extend({toggle:function(){return!0}},t||{}),t.autoStop=!0,e=baidu.dom.g(e),t.handler=t.handler||e;var r,i,o,a=["ondragstart","ondrag","ondragend"],u=a.length-1,s={dispose:function(){o&&o.stop(),baidu.event.un(t.handler,"onmousedown",n),baidu.lang.Class.prototype.dispose.call(s)}},l=this;if(r=baidu.dom.ddManager)for(;u>=0;u--)i=a[u],t[i]=function(n){var i=t[n];return function(){baidu.lang.isFunction(i)&&i.apply(l,arguments),r.dispatchEvent(n,{DOM:e})}}(i);return e&&baidu.event.on(t.handler,"onmousedown",n),{cancel:function(){s.dispose()}}},baidu.ui.Slider=baidu.ui.createUI(function(){var e=this;e.range=e.range||[e.min,e.max]}).extend({layout:"horizontal",uiType:"slider",tplBody:'<div id="#{id}" class="#{class}" onmousedown="#{mousedown}" style="position:relative;">#{thumb}</div>',tplThumb:'<div id="#{thumbId}" class="#{thumbClass}" style="position:absolute;"></div>',value:0,min:0,max:100,disabled:!1,_dragOpt:{},_axis:{horizontal:{mousePos:"x",pos:"left",size:"width",clientSize:"clientWidth",offsetSize:"offsetWidth"},vertical:{mousePos:"y",pos:"top",size:"height",clientSize:"clientHeight",offsetSize:"offsetHeight"}},getString:function(){var e=this;return baidu.format(e.tplBody,{id:e.getId(),"class":e.getClass(),mousedown:e.getCallRef()+"._mouseDown(event)",thumb:baidu.format(e.tplThumb,{thumbId:e.getId("thumb"),thumbClass:e.getClass("thumb")})})},_mouseDown:function(e){var t=this,n=t._axis[t.layout],r=baidu.page.getMousePosition(),i=baidu.dom.getPosition(t.getBody()),o=t.getThumb(),a=baidu.event.getTarget(e);a==o||baidu.dom.contains(o,a)||t.disabled||(t._calcValue(r[n.mousePos]-i[n.pos]-o[n.offsetSize]/2),t.update(),t.dispatchEvent("slideclick"))},render:function(e){try{var t=this;if(!e)return;baidu.dom.insertHTML(t.renderMain(e),"beforeEnd",t.getString()),t._createThumb(),t.update(),t.dispatchEvent("onload")}catch(n){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:n.message||n.description,path:"common:widget/ui/tangram/tangram.js",ln:8589})}},_createThumb:function(){var e,t=this;t._dragOpt={ondragend:function(){t.dispatchEvent("slidestop")},ondragstart:function(){t.dispatchEvent("slidestart")},ondrag:function(){var e=t._axis[t.layout],n=t.getThumb().style[e.pos];t._calcValue(parseInt(n)),t.dispatchEvent("slide")},range:[0,0,0,0]},t._updateDragRange(),e=baidu.dom.draggable(t.getThumb(),t._dragOpt),t.addEventListener("dispose",function(){e.cancel()})},_updateDragRange:function(e){var t=this,n=t._axis[t.layout],r=e||t.range,i=t._dragOpt.range,o=t.getThumb();r=[Math.max(Math.min(r[0],t.max),t.min),Math.max(Math.min(r[1],t.max),t.min)],"horizontal"==t.layout.toLowerCase()?(i[1]=t._parseValue(r[1],"fix")+o[n.offsetSize],i[3]=t._parseValue(r[0],"fix"),i[2]=o.clientHeight):(i[0]=t._parseValue(r[0],"fix"),i[2]=t._parseValue(r[1],"fix")+o[n.offsetSize],i[1]=o.clientWidth)
},update:function(e){{var t=this,n=t._axis[t.layout];t.getBody()}e=e||{},baidu.object.extend(t,e),t._updateDragRange(),t._adjustValue(),t.dispatchEvent("beforesliderto",{drop:e.drop})&&(t.getThumb().style[n.pos]=t._parseValue(t.value,"pix")+"px",t.dispatchEvent("update"))},_adjustValue:function(){var e=this,t=e.range;e.value=Math.max(Math.min(e.value,t[1]),t[0])},_calcValue:function(e){var t=this;t.value=t._parseValue(e,"value"),t._adjustValue()},_parseValue:function(e,t){var n=this,r=n._axis[n.layout],i=n.getBody()[r.clientSize]-n.getThumb()[r.offsetSize];return e="value"==t?(n.max-n.min)/i*e+n.min:Math.round(i/(n.max-n.min)*(e-n.min))},getValue:function(){return this.value},getTarget:function(){return baidu.g(this.targetId)},getThumb:function(){return baidu.g(this.getId("thumb"))},disable:function(){var e=this;e.disabled=!0,e._updateDragRange([e.value,e.value])},enable:function(){var e=this;e.disabled=!1,e._updateDragRange(e.range)},dispose:function(){var e=this;e.dispatchEvent("dispose"),baidu.dom.remove(e.getId()),e.dispatchEvent("ondispose"),baidu.lang.Class.prototype.dispose.call(e)}}),baidu.ui.ScrollBar=baidu.ui.createUI(function(){var e=this;e._scrollBarSize={width:0,height:0}}).extend({uiType:"scrollbar",tplDOM:'<div id="#{id}" class="#{class}"></div>',tplThumb:'<div class="#{prev}"></div><div class="#{track}"></div><div class="#{next}"></div>',value:0,dimension:10,orientation:"vertical",step:10,_axis:{horizontal:{size:"width",unSize:"height",offsetSize:"offsetWidth",unOffsetSize:"offsetHeight",clientSize:"clientWidth",scrollPos:"scrollLeft",scrollSize:"scrollWidth"},vertical:{size:"height",unSize:"width",offsetSize:"offsetHeight",unOffsetSize:"offsetWidth",clientSize:"clientHeight",scrollPos:"scrollTop",scrollSize:"scrollHeight"}},getThumbString:function(){var e=this;return baidu.string.format(e.tplThumb,{prev:e.getClass("thumb-prev"),track:e.getClass("thumb-track"),next:e.getClass("thumb-next")})},render:function(e){try{var t=this;if(!e||t.getMain())return;baidu.dom.insertHTML(t.renderMain(e),"beforeEnd",baidu.string.format(t.tplDOM,{id:t.getId(),"class":t.getClass()})),t._renderUI(),t.dispatchEvent("load")}catch(n){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:n.message||n.description,path:"common:widget/ui/tangram/tangram.js",ln:8845})}},_renderUI:function(){function e(e){return{classPrefix:o.classPrefix+"-"+e,skin:o.skin?o.skin+"-"+e:"",poll:{time:4},onmousedown:function(){o._basicScroll(e)},element:u,autoRender:!0}}function t(e){o.dispatchEvent("scroll",{value:Math.round(e.target.getValue())})}try{var n,r,i,o=this,a=o._axis[o.orientation],u=o.getBody();n=o._prev=new baidu.ui.Button(e("prev")),baidu.dom.insertHTML(u,"beforeEnd",baidu.string.format(o.tplDOM,{id:o.getId("track"),"class":o.getClass("track")})),i=o._next=new baidu.ui.Button(e("next")),r=o._slider=new baidu.ui.Slider({classPrefix:o.classPrefix+"-slider",skin:o.skin?o.skin+"-slider":"",layout:o.orientation,onslide:t,onslideclick:t,element:baidu.dom.g(o.getId("track")),autoRender:!0}),o._scrollBarSize[a.unSize]=i.getBody()[a.unOffsetSize],o._thumbButton=new baidu.ui.Button({classPrefix:o.classPrefix+"-thumb-btn",skin:o.skin?o.skin+"-thumb-btn":"",content:o.getThumbString(),capture:!0,element:r.getThumb(),autoRender:!0}),o.flushUI(o.value,o.dimension),o._registMouseWheelEvt(o.getMain())}catch(s){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:s.message||s.description,path:"common:widget/ui/tangram/tangram.js",ln:8906})}},flushUI:function(e,t){var n,r=this,i=r._axis[r.orientation],o=r._prev.getBody()[i.offsetSize]+r._next.getBody()[i.offsetSize],a=r.getBody(),u=r._slider,s=u.getThumb();if(isNaN(t)&&(t=0),baidu.dom.hide(a),n=r.getMain()[i.clientSize],r._scrollBarSize[i.size]=0>=n?o:n,u.getMain().style[i.size]=(0>=n?0:n-o)+"px",s.style[i.size]=Math.max(Math.min(t,100),0)+"%",6==T.browser.ie){var l=n*t/100;l>0&&12>l&&(s.style.height="12px")}baidu.dom.show(a),r._scrollTo(e)},_scrollTo:function(e){this._slider.update({value:e})},scrollTo:function(e){var t=this;t._scrollTo(e),t.dispatchEvent("scroll",{value:e})},_basicScroll:function(e){var t=this;t.scrollTo(Math.round(t._slider.getValue())+("prev"==e?-t.step:t.step))},_onMouseWheelHandler:function(e){var t=this,e=(t.target,e||window.event),n=e.detail||-e.wheelDelta;baidu.event.preventDefault(e),t._basicScroll(n>0?"next":"prev")},_registMouseWheelEvt:function(e){var t=this,n=function(){var e=navigator.userAgent.toLowerCase(),t=/(webkit)/.exec(e)||/(opera)/.exec(e)||/(msie)/.exec(e)||/(trident)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)/.exec(e)||[];return"mozilla"==t[1]?"DOMMouseScroll":"mousewheel"},r={target:e,evtName:n(),handler:baidu.fn.bind("_onMouseWheelHandler",t)};baidu.event.on(r.target,r.evtName,r.handler),t.addEventListener("dispose",function(){baidu.event.un(r.target,r.evtName,r.handler)})},setVisible:function(e){var t="";6==baidu.browser.ie&&(t="inline"),this.getMain().style.display=e?t:"none"},isVisible:function(){return this.getMain()?"none"!=this.getMain().style.display:!1},getSize:function(){return this._scrollBarSize},update:function(e){var t=this;t.dispatchEvent("beforeupdate"),baidu.object.extend(t,e),t.flushUI(t.value,t.dimension),t.dispatchEvent("update")},dispose:function(){var e=this;e.dispatchEvent("dispose"),e._prev.dispose(),e._thumbButton.dispose(),e._slider.dispose(),e._next.dispose(),baidu.dom.remove(e.getMain()),baidu.lang.Class.prototype.dispose.call(e)}}),baidu.ui.ScrollBar.register(function(e){e.container&&e.addEventListeners({load:function(){e.update(),"vertical"==e.orientation&&e._registMouseWheelEvt(e.getContainer())},beforeupdate:function(){var e=this,t=e._axis[e.orientation],n=e.getContainer();n&&(e.dimension=Math.round(n[t.clientSize]/n[t.scrollSize]*100),e.value=n[t.scrollSize]-n[t.clientSize],e.value>0&&(e.value=Math.round(n[t.scrollPos]/(n[t.scrollSize]-n[t.clientSize])*100)))},scroll:function(t){var n=e.getContainer(),r=e._axis[e.orientation];n[r.scrollPos]=t.value/100*(n[r.scrollSize]-n[r.clientSize])}})}),baidu.object.extend(baidu.ui.ScrollBar.prototype,{getContainer:function(){return baidu.dom.g(this.container)}}),baidu.dom._styleFixer["float"]=baidu.browser.ie?"styleFloat":"cssFloat",baidu.ui.ScrollPanel=baidu.ui.createUI(function(e){e.autoUpdate&&(this.autoUpdate=!0)}).extend({uiType:"scrollpanel",tplDOM:'<div id="#{id}" class="#{class}">#{body}</div>',overflow:"auto",_scrollBarSize:0,_yVisible:!1,_xVisible:!1,_axis:{y:{size:"height",unSize:"width",unScrollSize:"scrollWidth",unClientSize:"clientWidth",offsetSize:"offsetHeight"},x:{size:"width",unSize:"height",unScrollSize:"scrollHeight",unClientSize:"clientHeight",offsetSize:"offsetWidth"}},setMargin:function(){for(var e=this,t=e.margin||[0,0,0,0],n=0;n<t.length;n++)isNaN(t[n])&&(t[n]=0);e.margin=t},autoUpdate:!0,updateTimeout:!0,getString:function(){var e=this,t=baidu.string.format(e.tplDOM,{id:e.getId("panel"),"class":e.getClass("panel")});return t=baidu.string.format(e.tplDOM,{id:e.getId(),"class":e.getClass(),body:t}),baidu.string.format(e.tplDOM,{id:e.getId("main"),"class":e.getClass("main"),body:t})},render:function(e){try{if(window.isPrint)return;var t=this;if(baidu.ui.ScrollPanel.all.push(this),this._scrollPanelId=baidu.ui.ScrollPanel.all.length,t.setMargin(),t.target=e,!e||t.getMain())return;t.getTarget().style.overflow="hidden",baidu.dom.insertHTML(t.getTarget(),"afterEnd",t.getString()),t.renderMain(t.getId("main")),t._renderUI(),t._switchCssEvt(t.getMain())}catch(n){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:n.message||n.description,path:"common:widget/ui/tangram/tangram.js",ln:9234})}},_switchCssEvt:function(e){var t=this;T.on(e,"mouseover",function(){t._focusScrollBar()}),T.on(e,"mouseout",function(){t._blurScrollBar()})},_focusScrollBar:function(){var e=this;6==T.browser.ie&&document.execCommand("BackgroundImageCache",!1,!0);var t=e.getScrollBar("y").element.children[0];T.dom.setStyle(t,"background-position","-3px center");var n=e.getScrollBar("y")._thumbButton.getBody(),r=n.children[0],i=n.children[2];T.dom.setStyle(n,"background-position","-24px center"),T.dom.setStyle(r,"background-position","-36px -11px"),T.dom.setStyle(i,"background-position","-36px -15px")},_blurScrollBar:function(){var e=this,t=e.getScrollBar("y").element.children[0];T.dom.setStyle(t,"background-position","3px 0");var n=e.getScrollBar("y")._thumbButton.getBody();if(n){var r=n.children[0],i=n.children[2];T.dom.setStyle(n,"background-position","-12px center"),T.dom.setStyle(r,"background-position","-36px 0"),T.dom.setStyle(i,"background-position","-36px -4px")}},_renderUI:function(){function e(e){var n,r=t.getId("overflow-"+e),i=t._axis[e],a=t.getPanel();baidu.dom.insertHTML(a,"y"==e?"afterEnd":"beforeEnd",baidu.string.format(t.tplDOM,{id:r,"class":t.getClass("overflow-"+e)})),r=baidu.dom.g(r),"y"==e&&(baidu.dom.setStyle(a,"float","left"),baidu.dom.setStyle(r,"float","left"),baidu.dom.setStyle(r,"display","inline")),t["_"+e+"Visible"]=!0,n=t["_"+e+"Scrollbar"]=new baidu.ui.ScrollBar({skin:o+"scrollbar-"+e,orientation:"y"==e?"vertical":"horizontal",container:t.container,element:r,autoRender:!0}),r.style[i.unSize]=n.getSize()[i.unSize]+"px",r.style.marginTop=t.margin[0]+"px",r.style.marginRight=t.margin[1]+"px",r.style.marginBottom=t.margin[2]+"px",r.style.marginLeft=t.margin[3]+"px",t._scrollBarSize=n.getSize()[i.unSize]+t.margin[1]+t.margin[3],n.setVisible(!1)}try{var t=this,n=t.getMain(),r=t.getPanel(),i=t.getTarget(),o=t.skin||"";n.style.width=i.offsetWidth+"px","100%"==i.style.width&&(i.style.width=i.offsetWidth+"px"),r.appendChild(i),("overflow-y"==t.overflow||"auto"==t.overflow)&&e("y"),("overflow-x"==t.overflow||"auto"==t.overflow)&&e("x"),t._smartVisible()}catch(a){"undefined"!=typeof alog&&alog("exception.fire","catch",{msg:a.message||a.description,path:"common:widget/ui/tangram/tangram.js",ln:9358})}},_smartVisible:function(){function e(e){var t=r._axis[e],n=r["_"+e+"Scrollbar"],i=r.getContainer(),o={};return n&&n.isVisible()||i[t.unClientSize]-r._scrollBarSize>=0&&(i.style[t.unSize]=i[t.unClientSize]-r._scrollBarSize+"px"),o[t.unSize]=i[t.unClientSize],o["scroll"+t.unSize]=i[t.unScrollSize],o}function t(e,t){var n=r._axis[e],i=r.getContainer();r["_"+e+"Visible"]&&t[e+"show"]&&r["_"+e+"Scrollbar"]||(i.style[n.unSize]=i[n.unClientSize]+r._scrollBarSize+"px")}function n(e,t){var n=r._axis[e],i=r.getContainer(),o=r["_"+e+"Scrollbar"],a=t[e+"show"];o&&o.getMain()&&(i[n.offsetSize]-r.margin[0]-r.margin[2]>=0&&(o.getMain().style[n.size]=i[n.offsetSize]-r.margin[0]-r.margin[2]+"px"),o.setVisible(r["_"+e+"Visible"]?a:!1),o.update())}var r=this,i={yshow:!1,xshow:!1};r.getContainer()&&(baidu.object.extend(i,e("y")),baidu.object.extend(i,e("x")),i.scrollwidth<=i.width+r._scrollBarSize&&i.scrollheight<=i.height+r._scrollBarSize?i.yshow=i.xshow=!1:i.scrollwidth<=i.width&&i.scrollheight>i.height+r._scrollBarSize?(i.yshow=!0,i.xshow=!1):i.scrollwidth>i.width+r._scrollBarSize&&i.scrollheight<=i.height?(i.yshow=!1,i.xshow=!0):i.yshow=i.xshow=!0,t("y",i),t("x",i),n("y",i),n("x",i))},setVisible:function(e,t){var n=this;t?n["_"+t+"Visible"]=e:n._yVisible=n._xVisible=e,n._smartVisible()},isVisible:function(e){var t=this;return t["_"+e+"Visible"]},getScrollBar:function(e){var t=this,n=e?t["_"+e+"Scrollbar"]:null;return n||(n=t._yScrollbar&&t._xScrollbar?[t._yScrollbar,t._xScrollbar]:t._yScrollbar||t._xScrollbar),n},update:function(e){if(!window.isPrint){var t=this;if(t.isVisible&&(baidu.object.extend(t,e),!t.getMain()||t.getMain().offsetWidth)){t._smartVisible();var n=t.getMain(),r=t.getContainer();if(n&&"none"!=n.style.display&&r&&r.style){t.getMain().style.height=r.style.height,T.browser.ie&&t.updateTimeout&&(t.scrollPanelTimerHandler&&window.clearTimeout(t.scrollPanelTimerHandler),t.scrollPanelTimerHandler=window.setTimeout(function(){t._smartVisible(!0)},50));var i=this.getScrollBar(),o=i.value;i.scrollTo(o)}}}},getPanel:function(){return baidu.dom.g(this.getId("panel"))},getTarget:function(){return baidu.dom.g(this.target)},getContainer:function(){return baidu.dom.g(this.container)},dispose:function(){var e=this,t=e._yScrollbar,n=e._xScrollbar;e.dispatchEvent("dispose"),e.getMain().parentNode.appendChild(e.getTarget()),t&&t.dispose(),n&&n.dispose(),T.un(e.getMain(),"mouseover"),T.un(e.getMain(),"mouseout"),baidu.dom.remove(e.getMain()),baidu.lang.Class.prototype.dispose.call(e)}}),baidu.ui.ScrollPanel.all=[],T.on(window,"resize",function(){setTimeout(function(){for(var e=baidu.ui.ScrollPanel.all,t=0;t<e.length;t++){var n=e[t];n&&n.autoUpdate&&n.update()}},100)}),baidu.date=baidu.date||{},baidu.number=baidu.number||{},baidu.number.pad=function(e,t){var n="",r=0>e,i=String(Math.abs(e));return i.length<t&&(n=new Array(t-i.length+1).join("0")),(r?"-":"")+n+i},baidu.date.format=function(e,t){function n(e,n){t=t.replace(e,n)}if("string"!=typeof t)return e.toString();var r=baidu.number.pad,i=e.getFullYear(),o=e.getMonth()+1,a=e.getDate(),u=e.getHours(),s=e.getMinutes(),l=e.getSeconds();return n(/yyyy/g,r(i,4)),n(/yy/g,r(parseInt(i.toString().slice(2),10),2)),n(/MM/g,r(o,2)),n(/M/g,o),n(/dd/g,r(a,2)),n(/d/g,a),n(/HH/g,r(u,2)),n(/H/g,u),n(/hh/g,r(u%12,2)),n(/h/g,u%12),n(/mm/g,r(s,2)),n(/m/g,s),n(/ss/g,r(l,2)),n(/s/g,l),t},baidu.date.parse=function(e){var t=new RegExp("^\\d+(\\-|\\/)\\d+(\\-|\\/)\\d+$");if("string"==typeof e){if(t.test(e)||isNaN(Date.parse(e))){var n=e.split(/ |T/),r=n.length>1?n[1].split(/[^\d]/):[0,0,0],i=n[0].split(/[^\d]/);return new Date(i[0]-0,i[1]-1,i[2]-0,r[0]-0,r[1]-0,r[2]-0)}return new Date(e)}return new Date},baidu.dom.getAncestorByTag=function(e,t){for(e=baidu.dom.g(e),t=t.toUpperCase();(e=e.parentNode)&&1==e.nodeType;)if(e.tagName==t)return e;return null},baidu.dom.offset=function(e){for(var t=e.offsetLeft,n=e.offsetTop;e=e.offsetParent;)t+=e.offsetLeft,n+=e.offsetTop;return{left:t,top:n}},baidu.dom.extend({height:function(e){return baidu._util_.access(this,"height",e,function(e,t,n){var r=void 0!==n,i=r&&parseFloat(n),o=null!=e&&e==e.window?"window":9===e.nodeType?"document":!1;if(!(r&&0>i||isNaN(i)))return r&&/^(?:\d*\.)?\d+$/.test(n+="")&&(n+="px"),o?baidu._util_.getWindowOrDocumentWidthOrHeight(e,o,t):r?e.style.height=n:baidu._util_.getWidthOrHeight(e,t)})},width:function(e){return baidu._util_.access(this,"width",e,function(e,t,n){var r=void 0!==n,i=r&&parseFloat(n),o=null!=e&&e==e.window?"window":9===e.nodeType?"document":!1;if(!(r&&0>i||isNaN(i)))return r&&/^(?:\d*\.)?\d+$/.test(n+="")&&(n+="px"),o?baidu._util_.getWindowOrDocumentWidthOrHeight(e,o,t):r?e.style.width=n:baidu._util_.getWidthOrHeight(e,t)})},prevAll:function(e){var t=baidu.array();return baidu.forEach(this,function(e){for(var n=[];e=e.previousSibling;)1==e.nodeType&&n.push(e);baidu.merge(t,n.reverse())}),this.pushStack("string"==typeof e?baidu.dom.match(t,e):t.unique())},position:function(){if(this.size()<=0)return 0;var e=/^(?:body|html)$/i,t=this.offset(),n=this.offsetParent(),r=e.test(n[0].nodeName)?{left:0,top:0}:n.offset();return t.left-=parseFloat(this.getCurrentStyle("marginLeft"))||0,t.top-=parseFloat(this.getCurrentStyle("marginTop"))||0,r.left+=parseFloat(n.getCurrentStyle("borderLeftWidth"))||0,r.top+=parseFloat(n.getCurrentStyle("borderTopWidth"))||0,{left:t.left-r.left,top:t.top-r.top}},index:function(e){return e?void 0:this[0]&&this[0].parentNode?this.prevAll().length:-1}}),void function(){baidu.plugin=function(e,t,n,r){var i,o=baidu.isPlainObject(t);return o||(r=n,n=t),"function"!=baidu.type(n)&&(n=void 0),"function"!=baidu.type(r)&&(r=void 0),i=baidu.createChain(e,n,r),o&&i.extend(t),i},function(e){var t=baidu.dom.data,n=function(e,t,n,r){var i;return e.size()?r||t?e.each(n):n.call(i=e[0],0,i):e};baidu._queueHooks=function(e,n){var r,i=n+"queueHooks";return t(e,i)||(t(e,i,r={empty:baidu.Callbacks("once memory").add(function(){t(e,n+"queue",null),t(e,i,null)})}),r)},baidu.plugin("dom",{queue:function(r,i,o){var a;return"string"!=typeof r&&(i=r,r=e),r=r||"fx",a=r+"queue",n(this,i,function(){var e=t(this,a);return i&&(!e||baidu.isArray(i)?t(this,a,e=baidu.makeArray(i)):e.push(i),baidu._queueHooks(this,r),o||"fx"!==r||"inprogress"===e[0]||baidu.dequeue(this,r)),e||[]},arguments.length>1||i)},dequeue:function(e){return e=e||"fx",n(this,!0,function(){var t=this,n=baidu.queue(t,e),r=n.length,i=n.shift(),o=baidu._queueHooks(t,e),a=function(){baidu.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),r--),o.cur=i,i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,a,o)),!r&&o&&o.empty.fire()})}}),baidu.queue=baidu.dom.queue,baidu.dequeue=baidu.dom.dequeue}(),baidu.plugin("dom",{clearQueue:function(e){return this.queue(e||"fx",[])}}),baidu.plugin("dom",{delay:function(e,t){return t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e||0);n.stop=function(){clearTimeout(r)}})}}),baidu.fx=baidu.fx||{},function(e){var t,n,r,i=baidu.fx,o=13,a=[],u=function(){var e={_default:{next:function(e){return setTimeout(e,o)},cancel:function(e){return clearTimeout(e)}}},t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame,n=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame;return t&&n&&(e.frame={next:t,cancel:n}),function(t){return e[t]||e._default}}(),s=function(){return(new Date).getTime()},l=function(){return setTimeout(function(){n=e},0),n=s()},d=function(){var t,r=0;for(n=s();r<a.length;r++)t=a[r],t()||a[r]!==t||a.splice(r--,1);a.length?c(!0):f(),n=e},c=function(e){r=r||(i.strategy=u(i.useAnimationFrame?"frame":"_default")),t=(e?!1:t)||r.next.call(null,d)},f=function(){r&&r.cancel.call(null,t),t=r=null};baidu.extend(i,{timer:function(t){return t===e?a:void(t()&&a.push(t)&&c())},now:function(){return n||l()},tick:d,useAnimationFrame:!0})}(),baidu.plugin=baidu.plugin||{},baidu.plugin._util_=baidu.plugin._util_||{},void function(){var e=baidu.dom.css,t=baidu._util_.cssNumber;baidu.extend(baidu.plugin._util_.fx={},{cssUnit:function(e){return t[e]?"":"px"},getCss:function(t,n){var r=e(t,n),i=parseFloat(r);return!isNaN(i)&&isFinite(i)?i||0:r},propExpand:function(){var e={},t=["Top","Right","Bottom","Left"];return baidu.forEach({margin:"",padding:"",border:"Width"},function(n,r){e[r+n]={expand:function(e){for(var i=0,o={},a="string"==typeof e?e.split(" "):[e];4>i;i++)o[r+t[i]+n]=a[i]||a[i-2]||a[0];return o}}}),function(t,n){var r=e[t];return r?r.expand(n):null}}(),getAllData:function(){var e=baidu.key,t=baidu.global("_maps_HTMLElementData");return function(n){var r=n[e];return r&&t[r]||[]}}()})}(),function(){function e(t,n,r,i,o){return new e.prototype.init(t,n,r,i,o)}var t=baidu.fx,n=baidu.plugin._util_.fx,r=baidu.dom.css,i=n.cssUnit,o=baidu._util_.cssHooks,a=n.getCss,u={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}};e.prototype={constructor:e,init:function(e,t,n,r,o,a){this.elem=e,this.prop=n,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=a||i(n)},cur:function(){var t=e.propHooks[this.prop];return t&&t.get?t.get(this):e.propHooks._default.get(this)},run:function(t){var n,r=e.propHooks[this.prop];return this.pos=n=this.options.duration?u[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*n+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):e.propHooks._default.set(this),this}},e.prototype.init.prototype=e.prototype,e.propHooks={_default:{get:function(e){var t,n,r=e.elem;return null==r[e.prop]||(n=r.style)&&null!=n[e.prop]?(t=a(r,e.prop),t&&"auto"!==t?t:0):r[e.prop]},set:function(e){var t=e.elem,n=t.style;n&&(null!=n[e.prop]||o[e.prop])?r(t,e.prop,e.now+e.unit):t[e.prop]=e.now}}},e.propHooks.scrollTop=e.propHooks.scrollLeft={set:function(e){var t=e.elem;t.nodeType&&t.parentNode&&(t[e.prop]=e.now)}},baidu.extend(t,{Tween:e,easing:u})}(),function(e){var t=document.createElement("div");e.inlineBlockNeedsLayout=!1,e.shrinkWrapBlocks=!1,baidu(document).ready(function(){var n=document.body,r=document.createElement("div");r.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",n.appendChild(r).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;width:1px;padding:1px;display:inline;zoom:1",e.inlineBlockNeedsLayout=3===t.offsetWidth,t.style.display="block",t.innerHTML="<div></div>",t.firstChild.style.width="5px",e.shrinkWrapBlocks=3!==t.offsetWidth),n.removeChild(r),r=t=n=null})}(baidu._util_.support),function(){function e(e,t){baidu.forEach(t,function(t,n){for(var r=(v[n]||[]).concat(v["*"]),i=0,o=r.length;o>i;i++)if(r[i].call(e,n,t))return})}function t(t,r,o){var a,u,s=0,l=m.length,d=baidu.Deferred().always(function(){delete c.elem}),c=function(){if(u)return!1;for(var e=p(),n=Math.max(0,f.startTime+f.duration-e),r=n/f.duration||0,i=1-r,o=0,a=f.tweens.length;a>o;o++)f.tweens[o].run(i);return d.notifyWith(t,[f,i,n]),1>i&&a?n:(d.resolveWith(t,[f]),!1)},f=d.promise({elem:t,props:baidu.extend({},r),opts:baidu.extend(!0,{specialEasing:{}},o),originalProperties:r,originalOptions:o,startTime:p(),duration:o.duration,tweens:[],createTween:function(e,n){var r=i.Tween(t,f.opts,e,n,f.opts.specialEasing[e]||f.opts.easing);return f.tweens.push(r),r},stop:function(e){var n=0,r=e?f.tweens.length:0;if(u)return this;for(u=!0;r>n;n++)f.tweens[n].run(1);return d[e?"resolveWith":"rejectWith"](t,[f,e]),this}}),h=f.props;for(n(h,f.opts.specialEasing);l>s;s++)if(a=m[s].call(f,t,h,f.opts))return a;return e(f,h),baidu.isFunction(f.opts.start)&&f.opts.start.call(t,f),i.timer(baidu.extend(c,{elem:t,anim:f,queue:f.opts.queue})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function n(e,t){var n,r,i,o,a;for(i in e)if(r=f(i),o=t[r],n=e[i],baidu.isArray(n)&&(o=n[1],n=e[i]=n[0]),i!==r&&(e[r]=n,delete e[i]),a=c(r,n)){n=a,delete e[r];for(i in n)i in e||(e[i]=n[i],t[i]=o)}else t[r]=o}function r(e,t,n){var r,i,o,a,d,c,f,p,g,m=this,v=e.style,y={},b=[],x=e.nodeType&&l(e),w=baidu._util_.support;n.queue||(p=baidu._queueHooks(e,"fx"),null==p.unqueued&&(p.unqueued=0,g=p.empty.fire,p.empty.fire=function(){p.unqueued||g()}),p.unqueued++,m.always(function(){m.always(function(){p.unqueued--,baidu.queue(e,"fx").length||p.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[v.overflow,v.overflowX,v.overflowY],"inline"===u(e,"display")&&"none"===u(e,"float")&&(v.display="inline-block",w.inlineBlockNeedsLayout?v.zoom=1:v.display="inline-block")),n.overflow&&(v.overflow="hidden",w.shrinkWrapBlocks||m.always(function(){v.overflow=n.overflow[0],v.overflowX=n.overflow[1],v.overflowY=n.overflow[2]}));for(i in t)if(a=t[i],h.exec(a)){if(delete t[i],c=c||"toggle"===a,a===(x?"hide":"show"))continue;b.push(i)}if(o=b.length){d=s(e,"fxshow"),d||s(e,"fxshow",d={}),"hidden"in d&&(x=d.hidden),c&&(d.hidden=!x),x?baidu.dom(e).show():m.done(function(){baidu.dom(e).hide()}),m.done(function(){var t;s(e,"fxshow",null);for(t in y)u(e,t,y[t])});for(i=0;o>i;i++)r=b[i],f=m.createTween(r,x?d[r]:0),y[r]=d[r]||u(e,r),r in d||(d[r]=f.start,x&&(f.end=f.start,f.start="width"===r||"height"===r?1:0))}}var i=baidu.fx,o=baidu.plugin._util_.fx,a=o.cssUnit,u=baidu.dom.css,s=baidu.dom.data,l=baidu._util_.isHidden,d=o.getCss,c=o.propExpand,f=baidu.string.toCamelCase,p=i.now,h=/^(?:toggle|show|hide)$/i,g=/^(?:([+-])=|)([+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))([a-z%]*)$/i,m=[r],v={"*":[function(e,t){var n,r,i=this.createTween(e,t),o=i.elem,s=g.exec(t),l=i.cur(),c=+l||0,f=1,p=20;if(s){if(n=+s[2],r=s[3]||a(e),"px"!==r&&c){c=d(o,e)||n||1;do f=f||".5",c/=f,u(o,e,c+r);while(f!==(f=i.cur()/l)&&1!==f&&--p)}i.unit=r,i.start=c,i.end=s[1]?c+(s[1]+1)*n:n}return i}]};i.Animation=baidu.extend(t,{tweener:function(e,t){baidu.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],v[n]=v[n]||[],v[n].unshift(t)},prefilter:function(e,t){t?m.unshift(e):m.push(e)}})}(),function(){function e(e){var t;for(t in e)return!1;return!0}function t(e,t,r){var i=e&&"object"==typeof e?baidu.extend({},e):{complete:r||!r&&t||baidu.isFunction(e)&&e,duration:e,easing:r&&t||t&&!baidu.isFunction(t)&&t};return i.duration=n.off?0:"number"==typeof i.duration?i.duration:i.duration in o?o[i.duration]:o._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){baidu.isFunction(i.old)&&i.old.call(this),i.queue&&baidu.dequeue(this,i.queue)},i}var n=baidu.fx,r=n.Animation,i=baidu.dom.data,o={slow:600,fast:200,_default:400};baidu.plugin("dom",{animate:function(n,o,a,u){var s=e(n),l=t(o,a,u),d=function(){var e=r(this,baidu.extend({},n),l);d.finish=function(){e.stop(!0)},(s||i(this,"finish"))&&e.stop(!0)};return d.finish=d,s||l.queue===!1?this.each(d):this.queue(l.queue,d)}}),baidu.extend(n,{speeds:o,off:!1})}(),function(){var e=baidu.fx,t=baidu.plugin._util_.fx,n=/queueHooks$/,r=t.getAllData;baidu.plugin("dom",{stop:function(t,i,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof t&&(o=i,i=t,t=void 0),i&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var i=!0,u=null!=t&&t+"queueHooks",s=e.timer(),l=r(this);if(u)l[u]&&l[u].stop&&a(l[u]);else for(u in l)l[u]&&l[u].stop&&n.test(u)&&a(l[u]);for(u=s.length;u--;)s[u].elem!==this||null!=t&&s[u].queue!==t||(s[u].anim.stop(o),i=!1,s.splice(u,1));(i||!o)&&baidu.dequeue(this,t)})}})}()}(),void function(e,t){function n(e,t,n,r){var i,u,s,l,d=a++,c=0,f=t.length;for("string"!=typeof n||h.test(n)||(n=n.toLowerCase(),l=n);f>c;c++)if(i=t[c]){for(u=!1,i=i[e];i;){if(i[o]===d){u=t[i.sizset];break}if(s=1===i.nodeType,s&&!r&&(i[o]=d,i.sizset=c),l){if(i.nodeName.toLowerCase()===n){u=i;break}}else if(s)if("string"!=typeof n){if(i===n){u=!0;break}}else if(I(n,[i]).length>0){u=i;break}i=i[e]}t[c]=u}}baidu.query=function(e,t,n){return baidu.merge(n||[],baidu.sizzle(e,t))};var r=e.document,i=r.documentElement,o="sizcache"+(Math.random()+"").replace(".",""),a=0,u=Object.prototype.toString,s="undefined",l=!1,d=!0,c=/^#([\w\-]+$)|^(\w+$)|^\.([\w\-]+$)/,f=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,p=/\\/g,h=/\W/,g=/^\w/,m=/\D/,v=/(-?)(\d*)(?:n([+\-]?\d*))?/,y=/^\+|\s*/g,b=/h\d/i,x=/input|select|textarea|button/i,w=/[\t\n\f\r]/g,_="(?:[-\\w]|[^\\x00-\\xa0]|\\\\.)",S={ID:new RegExp("#("+_+"+)"),CLASS:new RegExp("\\.("+_+"+)"),NAME:new RegExp("\\[name=['\"]*("+_+"+)['\"]*\\]"),TAG:new RegExp("^("+_.replace("[-","[-\\*")+"+)"),ATTR:new RegExp("\\[\\s*("+_+"+)\\s*(?:(\\S?=)\\s*(?:(['\"])(.*?)\\3|(#?"+_+"*)|)|)\\s*\\]"),PSEUDO:new RegExp(":("+_+"+)(?:\\((['\"]?)((?:\\([^\\)]+\\)|[^\\(\\)]*)+)\\2\\))?"),CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/},E=S.POS,T=function(){var e,t=function(e,t){return"\\"+(t-0+1)},n={};for(e in S)S[e]=new RegExp(S[e].source+/(?![^\[]*\])(?![^\(]*\))/.source),n[e]=new RegExp(/(^(?:.|\r|\n)*?)/.source+S[e].source.replace(/\\(\d+)/g,t));return S.globalPOS=E,n}(),C=function(e){var t=!1,n=r.createElement("div");try{t=e(n)}catch(i){}return n=null,t},k=C(function(e){var t=!0,n="script"+(new Date).getTime();return e.innerHTML="<a name ='"+n+"'/>",i.insertBefore(e,i.firstChild),r.getElementById(n)&&(t=!1),i.removeChild(e),t}),A=C(function(e){return e.appendChild(r.createComment("")),0===e.getElementsByTagName("*").length}),M=C(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==s&&"#"===e.firstChild.getAttribute("href")}),N=C(function(e){return e.innerHTML="<div class='test e'></div><div class='test'></div>",e.getElementsByClassName&&0!==e.getElementsByClassName("e").length?(e.lastChild.className="e",1!==e.getElementsByClassName("e").length):!1});[0,0].sort(function(){return d=!1,0});var O=function(e,n,i){i=i||[],n=n||r;var o,a,u,s=n.nodeType;if(1!==s&&9!==s)return[];if(!e||"string"!=typeof e)return i;if(e=baidu.string(e).trim(),!e)return i;if(u=D(n),!u&&(o=c.exec(e)))if(o[1]){if(9===s){if(a=n.getElementById(o[1]),!a||!a.parentNode)return B([],i);if(a.id===o[1])return B([a],i)}else if(n.ownerDocument&&(a=n.ownerDocument.getElementById(o[1]))&&H(n,a)&&a.id===o[1])return B([a],i)}else{if(o[2])return"body"===e&&n.body?B([n.body],i):B(n.getElementsByTagName(e),i);if(N&&o[3]&&n.getElementsByClassName)return B(n.getElementsByClassName(o[3]),i)}return L(e,n,i,t,u)},L=function(e,t,n,r,i){var o,a,s,l,d,c,p,h,g=t,m=!0,v=[],y=e;do if(f.exec(""),o=f.exec(y),o&&(y=o[3],v.push(o[1]),o[2])){l=o[3];break}while(o);if(v.length>1&&E.exec(e))if(2===v.length&&q.relative[v[0]])a=W(v[0]+v[1],t,r,i);else for(a=q.relative[v[0]]?[t]:O(v.shift(),t);v.length;)e=v.shift(),q.relative[e]&&(e+=v.shift()),a=W(e,a,r,i);else if(!r&&v.length>1&&9===t.nodeType&&!i&&S.ID.test(v[0])&&!S.ID.test(v[v.length-1])&&(d=z(v.shift(),t,i),t=d.expr?I(d.expr,d.set)[0]:d.set[0]),t)for(d=r?{expr:v.pop(),set:B(r)}:z(v.pop(),v.length>=1&&("~"===v[0]||"+"===v[0])&&t.parentNode||t,i),a=d.expr?I(d.expr,d.set):d.set,v.length>0?s=B(a):m=!1;v.length;)c=v.pop(),p=c,q.relative[c]?p=v.pop():c="",null==p&&(p=t),q.relative[c](s,p,i);else s=v=[];if(s||(s=a),s||F(c||e),"[object Array]"===u.call(s))if(m)if(t&&1===t.nodeType)for(h=0;null!=s[h];h++)s[h]&&(s[h]===!0||1===s[h].nodeType&&H(t,s[h]))&&n.push(a[h]);else for(h=0;null!=s[h];h++)s[h]&&1===s[h].nodeType&&n.push(a[h]);else n.push.apply(n,s);else B(s,n);return l&&(L(l,g,n,r,i),j(n)),n},D=baidu._util_.isXML,B=baidu.makeArray,j=function(e){if($&&(l=d,e.sort($),l))for(var t=1;t<e.length;t++)e[t]===e[t-1]&&e.splice(t--,1);return e},H=baidu._util_.contains,z=function(e,t,n){var r,i,o,a,u,l;if(!e)return[];for(i=0,o=q.order.length;o>i;i++)if(u=q.order[i],(a=T[u].exec(e))&&(l=a[1],a.splice(1,1),"\\"!==l.substr(l.length-1)&&(a[1]=(a[1]||"").replace(p,""),r=q.find[u](a,t,n),null!=r))){e=e.replace(S[u],"");break}return r||(r=typeof t.getElementsByTagName!==s?t.getElementsByTagName("*"):[]),{set:r,expr:e}},I=function(e,n,r,i){for(var o,a,u,s,l,d,c,f,p,h=e,g=[],m=n,v=n&&n[0]&&D(n[0]);e&&n.length;){for(u in q.filter)if(null!=(o=T[u].exec(e))&&o[2]){if(d=q.filter[u],c=o[1],a=!1,o.splice(1,1),"\\"===c.substr(c.length-1))continue;if(m===g&&(g=[]),q.preFilter[u])if(o=q.preFilter[u](o,m,r,g,i,v)){if(o===!0)continue}else a=s=!0;if(o)for(f=0;null!=(l=m[f]);f++)l&&(s=d(l,o,f,m),p=i^s,r&&null!=s?p?a=!0:m[f]=!1:p&&(g.push(l),a=!0));if(s!==t){if(r||(m=g),e=e.replace(S[u],""),!a)return[];break}}if(e===h){if(null!=a)break;F(e)}h=e}return m},F=function(e){throw new Error(e)},P=function(e){var t,n,r=e.nodeType,i="";if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=P(e)}else if(3===r||4===r)return e.nodeValue}else for(t=0;n=e[t];t++)8!==n.nodeType&&(i+=P(n));return i},q={match:S,leftMatch:T,order:["ID","NAME","TAG"],attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:M?function(e){return e.getAttribute("href")}:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},relative:{"+":function(e,t){var n="string"==typeof t,r=n&&!h.test(t),i=n&&!r;r&&(t=t.toLowerCase());for(var o,a=0,u=e.length;u>a;a++)if(o=e[a]){for(;(o=o.previousSibling)&&1!==o.nodeType;);e[a]=i||o&&o.nodeName.toLowerCase()===t?o||!1:o===t}i&&I(t,e,!0)},">":function(e,t){var n,r="string"==typeof t,i=0,o=e.length;if(r&&!h.test(t)){for(t=t.toLowerCase();o>i;i++)if(n=e[i]){var a=n.parentNode;e[i]=a.nodeName.toLowerCase()===t?a:!1}}else{for(;o>i;i++)n=e[i],n&&(e[i]=r?n.parentNode:n.parentNode===t);r&&I(t,e,!0)}},"":function(e,t,r){n("parentNode",e,t,r)},"~":function(e,t,r){n("previousSibling",e,t,r)}},find:{ID:k?function(e,t,n){if(typeof t.getElementById!==s&&!n){var r=t.getElementById(e[1]);return r&&r.parentNode?[r]:[]}}:function(e,n,r){if(typeof n.getElementById!==s&&!r){var i=n.getElementById(e[1]);
return i?i.id===e[1]||typeof i.getAttributeNode!==s&&i.getAttributeNode("id").nodeValue===e[1]?[i]:t:[]}},NAME:function(e,t){if(typeof t.getElementsByName!==s){for(var n=[],r=t.getElementsByName(e[1]),i=0,o=r.length;o>i;i++)r[i].getAttribute("name")===e[1]&&n.push(r[i]);return 0===n.length?null:n}},TAG:A?function(e,t){return typeof t.getElementsByTagName!==s?t.getElementsByTagName(e[1]):void 0}:function(e,t){var n=t.getElementsByTagName(e[1]);if("*"===e[1]){for(var r=[],i=0;n[i];i++)1===n[i].nodeType&&r.push(n[i]);n=r}return n}},preFilter:{CLASS:function(e,t,n,r,i,o){if(e=" "+e[1].replace(p,"")+" ",o)return e;for(var a,u=0;null!=(a=t[u]);u++)a&&(i^(a.className&&~(" "+a.className+" ").replace(w," ").indexOf(e))?n||r.push(a):n&&(t[u]=!1));return!1},ID:function(e){return e[1].replace(p,"")},TAG:function(e){return e[1].replace(p,"").toLowerCase()},CHILD:function(e){if("nth"===e[1]){e[2]||F(e[0]),e[2]=e[2].replace(y,"");var t=v.exec("even"===e[2]&&"2n"||"odd"===e[2]&&"2n+1"||!m.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=t[1]+(t[2]||1)-0,e[3]=t[3]-0}else e[2]&&F(e[0]);return e[0]=a++,e},ATTR:function(e,t,n,r,i,o){var a=e[1]=e[1].replace(p,"");return!o&&q.attrMap[a]&&(e[1]=q.attrMap[a]),e[4]=(e[4]||e[5]||"").replace(p,""),"~="===e[2]&&(e[4]=" "+e[4]+" "),e},PSEUDO:function(e,t,n,i,o,a){if("not"===e[1]){if(!((f.exec(e[3])||"").length>1||g.test(e[3]))){var u=I(e[3],t,n,!o);return n||i.push.apply(i,u),!1}e[3]=L(e[3],r,[],t,a)}else if(S.POS.test(e[0])||S.CHILD.test(e[0]))return!0;return e},POS:function(e){return e.unshift(!0),e}},filters:{enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!!e.firstChild},empty:function(e){return!e.firstChild},has:function(e,t,n){return!!O(n[3],e).length},header:function(e){return b.test(e.nodeName)},text:function(e){var t=e.getAttribute("type"),n=e.type;return"input"===e.nodeName.toLowerCase()&&"text"===n&&(null===t||t.toLowerCase()===n)},radio:function(e){return"input"===e.nodeName.toLowerCase()&&"radio"===e.type},checkbox:function(e){return"input"===e.nodeName.toLowerCase()&&"checkbox"===e.type},file:function(e){return"input"===e.nodeName.toLowerCase()&&"file"===e.type},password:function(e){return"input"===e.nodeName.toLowerCase()&&"password"===e.type},submit:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"submit"===e.type},image:function(e){return"input"===e.nodeName.toLowerCase()&&"image"===e.type},reset:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"reset"===e.type},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return x.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return!(e!==t.activeElement||t.hasFocus&&!t.hasFocus()||!e.type&&!e.href)},active:function(e){return e===e.ownerDocument.activeElement},contains:function(e,t,n){return(e.textContent||e.innerText||P(e)).indexOf(n[3])>=0}},setFilters:{first:function(e,t){return 0===t},last:function(e,t,n,r){return t===r.length-1},even:function(e,t){return t%2===0},odd:function(e,t){return t%2===1},lt:function(e,t,n){return t<n[3]-0},gt:function(e,t,n){return t>n[3]-0},nth:function(e,t,n){return n[3]-0===t},eq:function(e,t,n){return n[3]-0===t}},filter:{PSEUDO:function(e,t,n,r){var i=t[1],o=q.filters[i];if(o)return o(e,n,t,r);if("not"===i){for(var a=t[3],u=0,s=a.length;s>u;u++)if(a[u]===e)return!1;return!0}F(i)},CHILD:function(e,t){var n,r,i,a,u,s,l=t[1],d=e;switch(l){case"only":case"first":for(;d=d.previousSibling;)if(1===d.nodeType)return!1;if("first"===l)return!0;d=e;case"last":for(;d=d.nextSibling;)if(1===d.nodeType)return!1;return!0;case"nth":if(n=t[2],r=t[3],1===n&&0===r)return!0;if(i=t[0],a=e.parentNode,a&&(a[o]!==i||!e.nodeIndex)){for(u=0,d=a.firstChild;d;d=d.nextSibling)1===d.nodeType&&(d.nodeIndex=++u);a[o]=i}return s=e.nodeIndex-r,0===n?0===s:s%n===0&&s/n>=0}},ID:k?function(e,t){return 1===e.nodeType&&e.getAttribute("id")===t}:function(e,t){var n=typeof e.getAttributeNode!==s&&e.getAttributeNode("id");return 1===e.nodeType&&n&&n.nodeValue===t},TAG:function(e,t){return"*"===t&&1===e.nodeType||!!e.nodeName&&e.nodeName.toLowerCase()===t},CLASS:function(e,t){return(" "+(e.className||e.getAttribute("class"))+" ").indexOf(t)>-1},ATTR:function(e,t){var n=t[1],r=q.attrHandle[n]?q.attrHandle[n](e):null!=e[n]?e[n]:e.getAttribute(n),i=r+"",o=t[2],a=t[4];return null==r?"!="===o:"="===o?i===a:"*="===o?i.indexOf(a)>=0:"~="===o?(" "+i+" ").indexOf(a)>=0:a?"!="===o?i!==a:"^="===o?0===i.indexOf(a):"$="===o?i.substr(i.length-a.length)===a:"|="===o?i===a||i.substr(0,a.length+1)===a+"-":!1:i&&r!==!1},POS:function(e,t,n,r){var i=t[2],o=q.setFilters[i];return o?o(e,n,t,r):void 0}}};N&&(q.order.splice(1,0,"CLASS"),q.find.CLASS=function(e,t,n){return typeof t.getElementsByClassName===s||n?void 0:t.getElementsByClassName(e[1])});var $,R;i.compareDocumentPosition?$=function(e,t){return e===t?(l=!0,0):e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t)?-1:1:e.compareDocumentPosition?-1:1}:($=function(e,t){if(e===t)return l=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,i=[],o=[],a=e.parentNode,u=t.parentNode,s=a;if(a===u)return R(e,t);if(!a)return-1;if(!u)return 1;for(;s;)i.unshift(s),s=s.parentNode;for(s=u;s;)o.unshift(s),s=s.parentNode;n=i.length,r=o.length;for(var d=0;n>d&&r>d;d++)if(i[d]!==o[d])return R(i[d],o[d]);return d===n?R(e,o[d],-1):R(i[d],t,1)},R=function(e,t,n){if(e===t)return n;for(var r=e.nextSibling;r;){if(r===t)return-1;r=r.nextSibling}return 1}),r.querySelectorAll&&!function(){var e=L,t="__sizzle__",n=/^\s*[+~]/,r=/'/g,i=[];C(function(e){e.innerHTML="<select><option selected></option></select>",e.querySelectorAll("[selected]").length||i.push("\\[[\\x20\\t\\n\\r\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||i.push(":checked")}),C(function(e){e.innerHTML="<p class=''></p>",e.querySelectorAll("[class^='']").length&&i.push("[*^$]=[\\x20\\t\\n\\r\\f]*(?:\"\"|'')"),e.innerHTML="<input type='hidden'>",e.querySelectorAll(":enabled").length||i.push(":enabled",":disabled")}),i=i.length&&new RegExp(i.join("|")),L=function(o,a,u,s,l){if(!(s||l||i&&i.test(o)))if(9===a.nodeType)try{return B(a.querySelectorAll(o),u)}catch(d){}else if(1===a.nodeType&&"object"!==a.nodeName.toLowerCase()){var c=a,f=a.getAttribute("id"),p=f||t,h=a.parentNode,g=n.test(o);f?p=p.replace(r,"\\$&"):a.setAttribute("id",p),g&&h&&(a=h);try{if(!g||h)return B(a.querySelectorAll("[id='"+p+"'] "+o),u)}catch(d){}finally{f||c.removeAttribute("id")}}return e(o,a,u,s,l)}}();var W=function(e,t,n,r){for(var i,o=[],a="",u=t.nodeType?[t]:t,s=0,l=u.length;i=S.PSEUDO.exec(e);)a+=i[0],e=e.replace(S.PSEUDO,"");for(q.relative[e]&&(e+="*");l>s;s++)L(e,u[s],o,n,r);return I(a,o)};e.Sizzle=baidu.sizzle=O,baidu.query.matches=function(e,t){return L(e,r,[],t,D(r))}}(window),window.T=window.$=window.baidu=baidu,baidu.template=baidu.template||{},baidu.template._encodeHTML=function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\\/g,"&#92;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},baidu.template._encodeEventHTML=function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/\\\\/g,"\\").replace(/\\\//g,"/").replace(/\\n/g,"\n").replace(/\\r/g,"\r")},T.supportCss3=function(e){var t,n=["webkit","Moz","ms","o"],r=[],i=document.documentElement.style,o=function(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})};for(t in n)r.push(o(n[t]+"-"+e));r.push(o(e));for(t in r)if(r[t]in i)return!0;return!1},T.whichTransitionEvent=function(){var e,t=document.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd",MsTransition:"msTransitionEnd"};for(e in n)if(void 0!==t.style[e])return n[e]},T.check_os=function(){return windows=-1!=navigator.userAgent.indexOf("Windows",0)?1:0,mac=-1!=navigator.userAgent.indexOf("mac",0)?1:0,linux=-1!=navigator.userAgent.indexOf("Linux",0)?1:0,unix=-1!=navigator.userAgent.indexOf("X11",0)?1:0,windows?os_type="MS Windows":mac?os_type="Apple mac":linux?os_type="Lunix":unix&&(os_type="Unix"),os_type},"function"==typeof define&&define.amd&&define("zepto",[],function(){return baidu}),window.Zepto=baidu,module.exports=baidu});
;define("common:widget/ui/stat/statCode.js",function(_,T,A){var S={STAT_PANEL_SELECT:30,STAT_MAP_SELECT:31,STAT_GR_ITEM_CLICK:65,STAT_GR_MARKER_CLICK:66,STAT_STRONG_ALL:222,STAT_USER_BEHAVIOUR_MINMING:553,STAT_POI_ONXQ:743,STAT_FAV_IW_BTN:6029,STAT_FAV_LIST_BTN:6030,STAT_SHOUJI_SEND:7505,STAT_PANO_DAY_PV:1e4,STAT_PANO_LIST_CLICK:10001,STAT_PANO_INFO_CLICK:10002,STAT_PANO_LABEL_CLICK:10003,STAT_PANO_PRE_SWITCH:10004,STAT_PANO_PRE_CLOSE:10005,STAT_PANO_PRE_OPEN:10006,STAT_PANO_FULL_SCREEN:10007,STAT_PANO_PRE_DRAG:10008,STAT_PANO_PRE_ZOOM:10009,STAT_PANO_PARTNER_CLICK:10010,STAT_PANO_TOP_BANNER_CLICK:10011,STAT_PANO_TOP_BANNER_OPEN:10012,STAT_PANO_SELECT_CITY:10013,STAT_STREETVIEW:10070,STAT_PANORAMA:10071,STAT_FATHERSON_CLICK:10081};window.STAT_CODE=S,A.exports=S});
;define("common:widget/ui/init/init.js",function(e,i,t){function a(){w.addEventListener("click",function(){v.blur()})}var n=e("common:widget/ui/config/config.js"),o=e("common:widget/ui/indexUtil/IndexUtil.js"),r=e("common:widget/ui/mapRevert/MapRevert.js"),d=e("common:widget/ui/card/cardMgr.js"),s=e("common:widget/ui/userMgr/userMgr.js"),c=e("common:widget/ui/urlManager/urlManager.js"),f=e("common:widget/ui/urlQueryProcessor/UrlQueryProcessor.js"),m=e("common:widget/ui/util/util.js"),u=e("common:widget/ui/userCenter/userCenterMgr.js"),l=e("common:widget/ui/messageCenter/messageCenter.js"),h=e("common:widget/ui/operateMediator/operateMediator.js"),g=n.modelConfig,w=window.map,p=e("common:widget/ui/ui3Tools/ui3Tools.js"),v=e("common:widget/ui/searchBox/searchBox.js"),_=e("common:widget/route/setMyPlace/ui3SetMyPlacePop.js"),y=e("common:widget/ui/fav/favMgr.js"),M=e("common:widget/ui/searchHistory/hisMgr.js"),S={init:function(){if(a(),this.setConfig(),this.setStatus(),this.initOpMediator(),addStat("index.index.uv","show"),addStat("index.index.uvonline","show"),this.addEarthStat(),addStat("map."+w.getRenderType()+".display","show",{da_e_name:"pcmapearth"}),!T.browser.ie){var e=this.checkPageZoom();e();window.addEventListener("resize",function(){e()})}},checkPageZoom:function(){function e(){i.removeClass("active"),setTimeout(function(){i.css("zoom","1")},400)}var i=$("#map-bottom-tip"),t=i.find("span");t.text(/macintosh/gi.test(navigator.userAgent)?"command+0":"Ctrl+0");var a;return i.find(".map-tip-close").click(function(){e()}),function(){var t=window.outerWidth/window.innerWidth;if(clearTimeout(a),.85>t||window.devicePixelRatio<.85){var n=Math.min(t,window.devicePixelRatio),o=1/n;i.css("zoom",o).addClass("active"),a=setTimeout(function(){e()},5e3)}else e()}},addEarthStat:function(){if(w.config.enableEarth&&addStat("earth.maptypectrl.display","show",{da_e_name:"pcmapearth"}),w.config.forceEnableEarth&&addStat("earth.forceenable","show",{da_e_name:"pcmapearth"}),w._earth){var e=w._earth.getDeviceInfo();addStat("earth.info","show",{da_e_name:"pcmapearth",earth_hardware_renderer:e.hardwareInfo.renderer,earth_hardware_vendor:e.hardwareInfo.vendor,browser:e.platformInfo.browser.family+" "+e.platformInfo.browser.major,os:e.platformInfo.os.family})}else w.addEventListener("earthload",function(e){addStat("earth.info","show",{da_e_name:"pcmapearth",earth_hardware_renderer:e.hardwareInfo.renderer,earth_hardware_vendor:e.hardwareInfo.vendor,browser:e.platformInfo.browser.name,os:e.platformInfo.os.family})})},initOpMediator:function(){h.init()},setStatus:function(){s.init(function(){var e=Math.round(1e5*Math.random());T.cookie.set("validate",e,{path:"/"}),y.init(),_.bundle().sync(),M.init(),l.init(!0),addStat("index.index.login","show");var i={qt:"deviceInfoNew",t:+new Date};T.ajax("/?"+T.ajax.param(i),{cache:!1,dataType:"json",success:function(e){0===e.status&&e&&e.data&&e.data.devices&&e.data.devices.length&&addStat("index.index.hasdevice","show")}})},function(){y.offline(),_.bundle().addAllPlace(),M.offline(),l.init(!1)}),d.initialize(),u.init(),v.initialize(),p.init(),r.init(),f.processUrlQuery(),f.handleUrlExt(),c.init(),e.async(["common:widget/ui/loadCtrls/LoadCtrls.js"],function(e){e.init()})},setConfig:function(){if(null!=window._OLR){var e=baidu.json.parse(window._OLR.index)||{},i=e.content;1!==i.city_type&&""!==i.city_type&&(g.cityType=i.city_type),g.cityCode=i.code,g.cityName=i.cname,g.defalutCityCode=i.code,g.defalutCityName=i.cname,g.sup=i.sup;var t=g.cityCode;o.isSupportStreetView(t)&&addStat(STAT_CODE.STAT_PANORAMA,{catalog:"pano-city-visit",from:t}),addStat(STAT_CODE.STAT_PANORAMA,{catalog:"city-visit",from:t})}new BMap.Label("shadow");w.temp.toolsElement=[]},createScenic3dMarker:function(){function i(e){return e=e.toLowerCase(),d.indexOf(e)>=0?!0:e.indexOf("mobile")>=0?!0:!1}function t(e){e=e.toLowerCase();for(var i=0;i<s.length;i++)if(e.indexOf(s[i])>=0)return!0;return!1}function a(e){return e?i(e)?!1:t(e)?!0:!1:!1}function n(){if(!window.WebGLRenderingContext)return!1;window.navigator.userAgent;if(T.browser.ie)return!1;var e=document.createElement("canvas");e.width=300,e.height=150;var i=null,t={alpha:!1,antialias:!1,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!1};try{i=e.getContext("webgl",t)||e.getContext("experimental-webgl",t)}catch(o){return!1}if(null===i)return!1;var r=!1,d=i.getExtension("WEBGL_debug_renderer_info");if(d){var s=i.getParameter(d.UNMASKED_RENDERER_WEBGL);a(s)===!0&&(r=!0);var c=i.getParameter(d.UNMASKED_VENDOR_WEBGL);n._renderer=s,n._vendor=c}!d&&T.browser.firefox&&(r=!0);var f=/macintosh/i.test(window.navigator.userAgent);return!d&&f&&(r=!0),(i.drawingBufferWidth!==e.width||i.drawingBufferHeight!==e.height)&&(r=!1),i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS)<4&&(r=!1),i.getParameter(i.MAX_TEXTURE_SIZE)<4096&&(r=!1),(!i.getShaderPrecisionFormat||i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision<23)&&(r=!1),r}function o(){for(var i=w.temp.scenic3dPoints,t=[55,132],a=0;a<i.length;a++){var n=i[a],o=window.devicePixelRatio||1,r=o>=1.5?"//webmap1.bdimg.com/wolfman/static/common/images/scenic3d/poi-marker-2x_74938f6.png":"//webmap0.bdimg.com/wolfman/static/common/images/scenic3d/poi-marker-1x_60d5eb3.png",d=new BMap.Icon(r,new BMap.Size(n.width,n.height),{imageSize:new BMap.Size(t[0],t[1]),imageOffset:new BMap.Size(n.imageOffsetX,n.imageOffsetY),offset:new BMap.Size(n.offsetX,n.offsetY),infoWindowOffset:new BMap.Size(n.width/2,3)}),s=new BMap.Point(n.lng,n.lat),f=new BMap.Marker(s,{enableMassClear:!1});f.setIcon(d),f.markerInfo=n,f.addEventListener("click",function(){var i=e("poidetail:widget/libs/poiDetailMgr/poiDetailMgr.js"),t=this,a=this.markerInfo;i.create({uid:a.uid,info_merge:1}).then(function(e){{var i=e.poiDetailCard;e.data}m.loadSearchSimpleInfo(function(e){var n={name:a.name},o=e.createCommonInfoWindow(n,{x:a.lng,y:a.lat,uid:a.uid});e.openSearchInfoWndPOI(o,t),o&&i.setInfoWindow(o)})},function(){})}),c.push(f)}return c}function r(){var e=w.getZoom();if(e>=14)for(var i=0;i<c.length;i++)c[i].isHideZoomend||w.addOverlay(c[i]);else for(var i=0;i<c.length;i++)w.removeOverlay(c[i])}var d=["swiftshader","microsoft basic render driver"],s=["intel","nvidia","amd","apple","geforce"],c=[];w.temp.ifSupportWebGL=n(),w.temp.ifSupportWebGL&&(w.temp.scenic3dPoints=[{name:"",className:"qinghuiyuan",uid:"546f387ceea8a352902ca346",height:38,width:51,imageOffsetX:-2,imageOffsetY:-3,offsetX:33,offsetY:19,lng:12608402.38,lat:2596154.89,href:"/scenic3d/index.html?id=qinghuiyuan"},{name:"",className:"huaguiyuan",uid:"251374c95b65c526a11de91e",height:37,width:47,imageOffsetX:-4,imageOffsetY:-47,offsetX:36,offsetY:18,lng:12612015.61,lat:2593664.67,href:"/scenic3d/index.html?id=huaguiyuan"},{name:"",className:"shijilian",uid:"666e6f3a2b15ba1c8a36ee5b",height:35,width:47,imageOffsetX:-4,imageOffsetY:-92,offsetX:34,offsetY:17,lng:12593290.86,lat:2611923.92,href:"/scenic3d/index.html?id=shijiliantiyuzhongxin"}],w.temp.scenic3dMarkers=o(),r(),w.addEventListener("zoomend",function(){r()}),w.addEventListener("load",function(){r()}),w.addEventListener("onmaptypechange",function(e){for(var i=0;i<c.length;i++)"B_EARTH_MAP"===e.mapType?c[i].hide():c[i].show()}),listener.on("toScenic3DPage","click",function(e,i){for(var t=i.uid,a="",n=w.temp.scenic3dPoints,o=0;o<n.length;o++)if(t===n[o].uid){a=n[o].href;break}""!==a&&($("iframe#scenic3d-iframe").size()&&$("iframe#scenic3d-iframe").remove(),a+="&frommap=1",$(document.body).append('<iframe src="'+a+'"id="scenic3d-iframe" width="100%" height="100%"style="border: none;position: absolute; top: 0px; z-index: 1000001;"/>'))}))}};t.exports=S});